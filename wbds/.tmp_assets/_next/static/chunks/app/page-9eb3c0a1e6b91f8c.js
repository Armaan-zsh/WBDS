(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3101:function(e,t,a){Promise.resolve().then(a.bind(a,133))},133:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var n=a(2347),r=a(3812),o=a(8945),i=a(6445),s=a(9493);let l=/[\u200B-\u200D\uFEFF\u00A0]/g,c={0:"o",1:"i",3:"e",4:"a",5:"s","@":"a",$:"s","(":"c","[":"c","{":"c","+":"t"};function d(e){let t=e.toLowerCase(),a=(t=t.replace(/[01345@$([+]/g,e=>c[e]||e)).replace(/[^a-z0-9]/g,"");return{raw:e,normalized:t,skeleton:a}}function p(e){let{skeleton:t}=d(e);for(let e of[/www\.[a-z0-9]+\.(com|net|org|xyz|io|co)/,/http(s)?:\/\/[a-z0-9]+/,/[a-z0-9]+\.(com|net|org|xyz|io|co)(\/|$)/])if(e.test(t))return!0;return!1}function x(e){let{normalized:t}=d(e);for(let e of["instagra","insta"," ig ","snapchat"," snap ","telegram","whatsapp","discord","kik ","wickr"])if(t.includes(e))return!0;for(let e of[/add\s+me/i,/dm\s+me/i,/inbox\s+me/i,/follow\s+me/i,/message\s+me/i,/hit\s+me\s+up/i])if(e.test(t))return!0;for(let e of[/@\w{3,}/,/\b(user|username)[:\s-]+\w+/,/\bu[:\-]+\w+/])if(e.test(t))return!0;return!1}let b="[REDACTED]";function m(e){let t=[],a=[],n=e.toLowerCase(),r=e.match(/\b[A-Z][a-z]+\s+[A-Z][a-z]+\b/g);for(let a of(r&&r.length>0&&!["dear","thank you","best regards","sincerely","yours truly"].some(e=>n.includes(e))&&t.push("POTENTIAL_NAME"),/\b(live|live in|from|located in|based in|currently in)\s+[A-Z][a-z]+(?:\s+[A-Z][a-z]+)?\b/gi.test(e)&&t.push("SPECIFIC_LOCATION"),["works at","boss at","manager at","employed by","works for","employee of"]))if(n.includes(a)){t.push("WORKPLACE_MENTION");break}for(let e of["lives in","lives at","address is","located at","from","residing in"])if(n.includes(e)){t.push("LOCATION_MENTION");break}return/\b(?:\d{4}[-\s]?){3}\d{4}\b|\b\d{13,19}\b/.test(e)&&a.push("CREDIT_CARD"),/\b\d{3}[-\s]?\d{2}[-\s]?\d{4}\b/.test(e)&&a.push("SSN"),/-?\d{1,3}\.?\d*[°]?\s*[NS]?,?\s*-?\d{1,3}\.?\d*[°]?\s*[EW]?/i.test(e)&&a.push("GPS_COORDINATES"),{isRisky:t.length>0||a.length>0,warnings:t,risks:a}}var f=a(3106);function y(e){let{onVerify:t}=e,a=(0,o.useRef)(null),i=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=setInterval(()=>{window.turnstile&&(clearInterval(e),s())},100);return()=>clearInterval(e)},[]);let s=()=>{if(!i.current)try{i.current=window.turnstile.render(a.current,{sitekey:"1x00000000000000000000AA",callback:function(e){console.log("Turnstile Verified"),t(e)},"error-callback":function(){console.error("Turnstile Error")},theme:"dark",appearance:"interaction-only"})}catch(e){console.error("Turnstile Render Error",e)}};return(0,n.jsxs)("div",{className:"jsx-a45a76811464e7cc turnstile-wrapper",children:[(0,n.jsx)(r,{id:"a45a76811464e7cc",children:".turnstile-wrapper.jsx-a45a76811464e7cc{margin-top:15px;margin-bottom:5px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;min-height:65px}"}),(0,n.jsx)("div",{ref:a,className:"jsx-a45a76811464e7cc"})]})}function u(e){let{isOpen:t,onClose:a,onConfirm:o,risks:i,warnings:s}=e;return t?(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 modal-overlay",children:[(0,n.jsx)(r,{id:"502643b0b9f7b262",children:".modal-overlay.jsx-502643b0b9f7b262{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.7);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:10000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.modal-card.jsx-502643b0b9f7b262{background:#1a0505;border:1px solid var(--accent-danger,#ff453a);padding:30px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;width:90%;max-width:450px;-webkit-box-shadow:0 20px 60px rgba(0,0,0,.6),0 0 30px rgba(255,69,58,.1);-moz-box-shadow:0 20px 60px rgba(0,0,0,.6),0 0 30px rgba(255,69,58,.1);box-shadow:0 20px 60px rgba(0,0,0,.6),0 0 30px rgba(255,69,58,.1);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform.2s cubic-bezier(.175,.885,.32,1.275);-moz-transition:-moz-transform.2s cubic-bezier(.175,.885,.32,1.275);-o-transition:-o-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-webkit-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-moz-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-o-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:transform.2s cubic-bezier(.175,.885,.32,1.275)}h2.jsx-502643b0b9f7b262{margin:0 0 16px 0;font-size:22px;color:var(--accent-danger,#ff453a);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px}.icon.jsx-502643b0b9f7b262{font-size:28px}.content.jsx-502643b0b9f7b262{color:var(--text-primary,#eee);font-size:15px;line-height:1.6;margin-bottom:24px}.risk-list.jsx-502643b0b9f7b262{background:rgba(255,69,58,.1);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:16px;margin:16px 0;font-size:14px}.risk-item.jsx-502643b0b9f7b262{color:#ff9a9e;margin-bottom:8px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px}.risk-item.jsx-502643b0b9f7b262:last-child{margin-bottom:0}.risk-icon.jsx-502643b0b9f7b262{font-weight:bold}.actions.jsx-502643b0b9f7b262{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px}.btn.jsx-502643b0b9f7b262{padding:12px 24px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;font-size:14px;font-weight:600;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:none}.btn-edit.jsx-502643b0b9f7b262{background:transparent;border:1px solid var(--text-secondary,#888);color:var(--text-primary,#fff)}.btn-edit.jsx-502643b0b9f7b262:hover{background:rgba(255,255,255,.1);border-color:#fff}.btn-confirm.jsx-502643b0b9f7b262{background:var(--accent-danger,#ff453a);color:white;-webkit-box-shadow:0 4px 12px rgba(255,69,58,.3);-moz-box-shadow:0 4px 12px rgba(255,69,58,.3);box-shadow:0 4px 12px rgba(255,69,58,.3)}.btn-confirm.jsx-502643b0b9f7b262:hover{-webkit-box-shadow:0 6px 16px rgba(255,69,58,.5);-moz-box-shadow:0 6px 16px rgba(255,69,58,.5);box-shadow:0 6px 16px rgba(255,69,58,.5);-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}"}),(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-502643b0b9f7b262 modal-card",children:[(0,n.jsxs)("h2",{className:"jsx-502643b0b9f7b262",children:[(0,n.jsx)("span",{className:"jsx-502643b0b9f7b262 icon",children:"⚠️"})," Privacy Warning"]}),(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 content",children:[(0,n.jsx)("p",{className:"jsx-502643b0b9f7b262",children:"This letter contains information that might identify you or others permanently."}),(i.length>0||s.length>0)&&(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 risk-list",children:[i.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 risk-item",children:[(0,n.jsx)("span",{className:"jsx-502643b0b9f7b262 risk-icon",children:"\uD83D\uDEA8"}),(0,n.jsxs)("span",{className:"jsx-502643b0b9f7b262",children:["Detected: ",e]})]},"r-".concat(t))),s.map((e,t)=>(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 risk-item",children:[(0,n.jsx)("span",{className:"jsx-502643b0b9f7b262 risk-icon",children:"⚠️"}),(0,n.jsxs)("span",{className:"jsx-502643b0b9f7b262",children:["Potential: ","POTENTIAL_NAME"===e?"Real Name":e]})]},"w-".concat(t)))]}),(0,n.jsx)("p",{className:"jsx-502643b0b9f7b262",children:(0,n.jsx)("strong",{className:"jsx-502643b0b9f7b262",children:"Once sent, it cannot be edited or deleted by you (unless you are the author, but others may have already seen it)."})}),(0,n.jsx)("p",{className:"jsx-502643b0b9f7b262",children:"Are you absolutely sure you want to release this into the void?"})]}),(0,n.jsxs)("div",{className:"jsx-502643b0b9f7b262 actions",children:[(0,n.jsx)("button",{onClick:a,className:"jsx-502643b0b9f7b262 btn btn-edit",children:"Back to Edit"}),(0,n.jsx)("button",{onClick:o,className:"jsx-502643b0b9f7b262 btn btn-confirm",children:"I Understand, Send It"})]})]})]}):null}function g(e){let{onSend:t,onError:a,onFocusChange:i,replyTo:c}=e,[g,h]=(0,o.useState)(""),[w,k]=(0,o.useState)([]),[v,j]=(0,o.useState)(!1),[z,_]=(0,o.useState)(!1),[N,S]=(0,o.useState)("IDLE"),[I,C]=(0,o.useState)(null),[E,T]=(0,o.useState)(!1),[M,A]=(0,o.useState)(null),[D,R]=(0,o.useState)(!1),[L,O]=(0,o.useState)({risks:[],warnings:[]}),[P,B]=(0,o.useState)("unknown"),[W,F]=(0,o.useState)(!1),[V,G]=(0,o.useState)(!1),[q,J]=(0,o.useState)(!1),[U,K]=(0,o.useState)("INSERT"),[Y,H]=(0,o.useState)(""),Z=(0,o.useRef)(null);(0,o.useEffect)(()=>{Z.current&&(Z.current.style.height="auto",Z.current.style.height=Z.current.scrollHeight+"px")},[g]),(0,o.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&e.shiftKey&&("f"===e.key||"F"===e.key)&&(e.preventDefault(),J(!0),setTimeout(()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.focus()},100)),"Escape"===e.key&&q&&!("undefined"!=typeof document&&("neovim"===document.documentElement.getAttribute("data-theme")||"terminal"===document.documentElement.getAttribute("data-theme")))&&(e.preventDefault(),J(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[q]),(0,o.useEffect)(()=>{if(!g.trim()){A(null);return}let e=m(g);if(e.isRisky){let t="Privacy Warning: ";e.risks&&e.risks.length>0&&(t+="Detected: "+e.risks.join(", ")+". "),e.warnings&&e.warnings.length>0&&(t+="Potential personal details. "),A(t)}else A(null)},[g]);let X=()=>{if(!g.trim())return;if(g.length>7777){ee(),a&&a("Letter too long. Maximum ".concat(7777," characters."));return}let e=function(e){let t={allowed:!0,blocked:!1,warnings:[],blockReason:null,blockMessage:null};if(function(e){let t=e.replace(l,"").replace(/[\s\r\n\t]+/g,"").toLowerCase();return[/@[a-z0-9_]{3,}/,/followmeon(insta|ig|tiktok|snap|discord|telegram)/,/dmme(on)?/,/(add|hit)me(up)?(on)?/,/my(ig|insta|snap|tiktok|discord)[:=]/,/u(ser)?[:=][a-z0-9_]+/].some(e=>e.test(t))}(e))return t.blocked=!0,t.allowed=!1,t.blockReason="obfuscated_social",t.blockMessage="The void is for releasing emotions, not collecting followers.",t;if(function(e){let{skeleton:t}=d(e);return/[.\-]{10,}/.test(e.replace(/\s/g,""))?{detected:!0,type:"morse"}:/\b[01]{16,}\b/.test(e)?{detected:!0,type:"binary"}:/\b[0-9a-f]{20,}\b/i.test(e)?{detected:!0,type:"hex"}:/[A-Za-z0-9+/]{30,}={0,2}/.test(e)?{detected:!0,type:"base64"}:{detected:!1}}(e).detected)return t.blocked=!0,t.allowed=!1,t.blockReason="encoded_content",t.blockMessage="The void speaks in words, not code. Please write plainly.",t;let a=function(e){let t=function(e){let t=RegExp("\\p{Emoji_Presentation}|\\p{Extended_Pictographic}","gu"),a=e.match(t);return a?a.length:0}(e);return t>7?{detected:!0,count:t,limit:7}:{detected:!1,count:t}}(e);return a.detected?(t.blocked=!0,t.allowed=!1,t.blockReason="too_many_emojis",t.blockMessage="Too many emojis (".concat(a.count,"). Maximum ").concat(a.limit," allowed. Express with words.")):(function(e){for(let t of[/<script[\s\S]*?>/gi,/<\/script>/gi,/javascript:/gi,/on(click|error|load|mouseover|focus|blur|submit|change)\s*=/gi,/<iframe/gi,/<object/gi,/<embed/gi,/<img\s+[^>]*(onerror|onload)/gi,/document\.(cookie|location|write|domain)/gi,/window\.(location|open|eval)/gi,/eval\s*\(/gi,/new\s+Function\s*\(/gi,/innerHTML\s*=/gi,/outerHTML\s*=/gi])if(t.test(e))return{detected:!0,type:"injection"};return{detected:!1}}(e).detected&&t.warnings.push("html_stripped"),function(e){let{normalized:t}=d(e);for(let e of[/\b(buy|shop|purchase|order)\s+(now|today|here)/gi,/\b(discount|sale|off|promo|coupon|deal|offer)\s*\d/gi,/\b(shopify|gumroad|etsy|amazon|ebay)\s*(store|shop|link)/gi,/\b(crypto|bitcoin|ethereum|nft|token|airdrop|wallet)\b/gi,/\$\d+(\.\d{2})?\s*(off|discount|only)/gi,/\b(free|win|winner|prize|giveaway|lottery)\b.*\b(click|link|enter)\b/gi,/\b(mlm|passive income|work from home|be your own boss)\b/gi,/\bcheck out my (shop|store|page|website)\b/gi])if(e.test(t))return{detected:!0,type:"commercial_spam"};return{detected:!1}}(e).detected)?(t.blocked=!0,t.allowed=!1,t.blockReason="commercial_spam",t.blockMessage="This space is for emotions, not promotions."):function(e){let{normalized:t}=d(e);for(let e of[/i\s+(will|am going to|gonna|want to|need to)\s+(kill|murder|hurt|attack|shoot|stab|bomb)\s+\w+/gi,/\b(kill|murder|hurt|attack|shoot|stab)\s+(him|her|them|you|that\s+\w+)/gi,/\b(gonna|going to)\s+(find|get|hurt)\s+(you|him|her|them)\b/gi,/\b(i know where)\s+(you|he|she|they)\s+(live|work|go)/gi,/\b(your|his|her|their)\s+(address|location|school|workplace)\s+is\b/gi])if(e.test(t))return{detected:!0,type:"targeted_threat"};return{detected:!1}}(e).detected?(t.blocked=!0,t.allowed=!1,t.blockReason="targeted_threat",t.blockMessage="The void doesn't carry threats. Release anger, not violence."):function(e){let{normalized:t}=d(e);if(/\b(cp|pedo|pedophile|loli|shota|jailbait)\b/gi.test(t))return{detected:!0,type:"csam_keyword"};let a=/\b(child|children|kid|kids|minor|minors|underage|young|little)\b/gi,n=/\b(nude|naked|sex|sexual|porn|fuck|molest|touch|abuse)\b/gi,r=a.test(t),o=n.test(t);if(a.lastIndex=0,n.lastIndex=0,r&&o){let e=t.split(/\s+/),r=-1,o=-1;for(let t=0;t<e.length;t++)a.test(e[t])&&(r=t),n.test(e[t])&&(o=t),a.lastIndex=0,n.lastIndex=0;if(-1!==r&&-1!==o&&10>=Math.abs(r-o))return{detected:!0,type:"csam_context"}}return{detected:!1}}(e).detected?(t.blocked=!0,t.allowed=!1,t.blockReason="csam",t.blockMessage="This content is not allowed."):(p(e)&&t.warnings.push("links_detected"),x(e)&&t.warnings.push("social_handles_detected")),t}(g);if(e.blocked){ee(),a&&a(e.blockMessage);return}if(p(g)){ee(),a&&a("No links. The void rejects them.");return}if(x(g)){ee(),a&&a("No social handles or self-promo allowed.");return}let t=m(g);if(t.isRisky){O({risks:t.risks||[],warnings:t.warnings||[]}),R(!0);return}$()},$=async function(){let e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R(!1),F(!1);let r=(e=(e=(e=(e=(e=(e=g).replace(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,b)).replace(/\b\d{3}[-\s]?\d{2}[-\s]?\d{4}\b/g,b)).replace(/\b(?:\d{4}[-\s]?){3}\d{4}\b|\b\d{13,19}\b/g,e=>{let t=e.replace(/[^0-9]/g,"");return t.length>=13&&t.length<=19?b:e})).replace(/(?:(?:\+|00)\d{1,3}[ \-.]?)?(?:\(?\d{2,5}\)?[ \-.]?){2,5}\d{2,10}/g,e=>{let t=e.replace(/[^0-9]/g,"").length;return t>=7&&t<=15?b:e})).replace(/\b(?:\d{1,3}\.){3}\d{1,3}\b/g,b),[/-?\d{1,3}\.\d+,\s*-?\d{1,3}\.\d+/g,/\d{1,3}°\s*\d{1,2}'\s*\d{1,2}(\.\d+)?"\s*[NS],\s*\d{1,3}°\s*\d{1,2}'\s*\d{1,2}(\.\d+)?"\s*[EW]/gi,/\b(?:\d{1,2}°\s*)?[NS]\s*(?:\d{1,3}°\s*)?[EW]\b/gi].forEach(t=>{e=e.replace(t,b)}),[/(flat|house|apartment|apt|plot|room|unit|suite)\s*(?:no|number|#)?\.?\s*\d+/gi,/\d+\s+[a-zA-Z]+(?:\s+(?:street|st|avenue|ave|road|rd|drive|dr|lane|ln|boulevard|blvd|way|circle|cir|court|ct|plaza|plz|terrace|ter|place|pl|square|sq|loop|lp|trail|trl|parkway|pkwy))\.?/gi,/\b\d{5}(?:-\d{4})?\s+[a-zA-Z]+/gi,/(?:no\.|number|#)\s?\d+\s+[a-zA-Z\s,]+/gi].forEach(t=>{e=e.replace(t,b)}),e=e.replace(/\b(?:pin|zip|postal)\s*(?:code)?\s*:?\s*\d{3}\s?\d{3}\b|\b\d{5}(?:-\d{4})?\b/gi,b));(0,f.co)(),S("SENDING");try{let e=await t(r,I,null==c?void 0:c.id,w,P,n);if(null==e?void 0:e.error){S("IDLE");return}if((null==e?void 0:e.crisis_detected)&&G(!0),(null==e?void 0:e.guidance_needed)&&!n){S("IDLE"),F(!0);return}h(""),k([]),B("unknown"),C(null),A(null),S("IDLE")}catch(e){S("IDLE"),a&&a(e.message||"The void is unstable. Try again.")}},Q=()=>{S("BURNING"),setTimeout(()=>{h(""),S("IDLE")},600)},ee=()=>{_(!0),setTimeout(()=>_(!1),300)},et=q&&"undefined"!=typeof document?(0,s.createPortal)((0,n.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(30px) saturate(150%)",WebkitBackdropFilter:"blur(30px) saturate(150%)",zIndex:99999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)("button",{onClick:()=>J(!1),style:{position:"fixed",top:24,right:24,width:44,height:44,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",color:"rgba(255,255,255,0.7)",fontSize:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:"\xd7"}),(0,n.jsxs)("div",{style:{width:"90%",maxWidth:800,height:"70vh",display:"flex",flexDirection:"column",background:"rgba(20, 20, 25, 0.6)",borderRadius:32,padding:40,border:"1px solid rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,n.jsx)("textarea",{value:g,onChange:e=>{e.target.value.length<=7777&&h(e.target.value)},onKeyDown:e=>{let t=e.target,a=t.selectionStart,n=t.selectionEnd,r=g.substring(a,n);if((e.ctrlKey||e.metaKey)&&("b"===e.key||"B"===e.key)&&(e.preventDefault(),r)){let e=g.substring(0,a)+"**".concat(r,"**")+g.substring(n);e.length<=7777&&(h(e),setTimeout(()=>{t.selectionStart=a+2,t.selectionEnd=n+2},0))}if((e.ctrlKey||e.metaKey)&&("i"===e.key||"I"===e.key)&&(e.preventDefault(),r)){let e=g.substring(0,a)+"*".concat(r,"*")+g.substring(n);e.length<=7777&&(h(e),setTimeout(()=>{t.selectionStart=a+1,t.selectionEnd=n+1},0))}},placeholder:"Dear...",autoFocus:!0,spellCheck:!1,style:{flex:1,background:"transparent",border:"none",color:"var(--text-primary, #fff)",fontFamily:"var(--font-current, serif)",fontSize:24,lineHeight:1.8,width:"100%",resize:"none",outline:"none",caretColor:"var(--text-primary, #fff)"}}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:20,borderTop:"1px solid rgba(255,255,255,0.1)",marginTop:20},children:[(0,n.jsxs)("span",{style:{fontSize:13,color:"var(--text-secondary, rgba(255,255,255,0.5))",fontFamily:"monospace"},children:[g.split(/\s+/).filter(e=>e.length>0).length," words \xb7 ",g.length,"/",7777]}),(0,n.jsx)("button",{onClick:()=>{J(!1),setTimeout(()=>X(),100)},disabled:!g.trim(),style:{padding:"10px 24px",background:g.trim()?"var(--text-primary, #fff)":"rgba(255,255,255,0.1)",border:"none",borderRadius:30,color:g.trim()?"var(--bg-depth, #000)":"rgba(255,255,255,0.3)",fontSize:14,fontWeight:600,cursor:g.trim()?"pointer":"not-allowed"},children:"Send to Void"})]})]}),(0,n.jsx)("span",{style:{position:"fixed",bottom:24,left:"50%",transform:"translateX(-50%)",fontSize:11,color:"rgba(255,255,255,0.3)",fontFamily:"monospace",background:"rgba(0,0,0,0.3)",padding:"6px 12px",borderRadius:20,backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:"ESC to exit \xb7 ⌘B bold \xb7 ⌘I italic"})]}),document.body):null;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"composer-container ".concat(v?"focused":""," ").concat("SENDING"===N?"sending":""),children:[(0,n.jsx)(r,{id:"1a9d164612c9b828",dynamic:[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"],children:'@-webkit-keyframes flyAway{0%{-webkit-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;-webkit-filter:blur(0);filter:blur(0)}20%{-webkit-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}40%{opacity:.8}100%{-webkit-transform:scale(.2)translatey(-300px)rotatex(20deg);transform:scale(.2)translatey(-300px)rotatex(20deg);opacity:0;-webkit-filter:blur(10px);filter:blur(10px)}}@-moz-keyframes flyAway{0%{-moz-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;filter:blur(0)}20%{-moz-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}40%{opacity:.8}100%{-moz-transform:scale(.2)translatey(-300px)rotatex(20deg);transform:scale(.2)translatey(-300px)rotatex(20deg);opacity:0;filter:blur(10px)}}@-o-keyframes flyAway{0%{-o-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;filter:blur(0)}20%{-o-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}40%{opacity:.8}100%{-o-transform:scale(.2)translatey(-300px)rotatex(20deg);transform:scale(.2)translatey(-300px)rotatex(20deg);opacity:0;filter:blur(10px)}}@keyframes flyAway{0%{-webkit-transform:scale(1)translatey(0)rotatex(0);-moz-transform:scale(1)translatey(0)rotatex(0);-o-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;-webkit-filter:blur(0);filter:blur(0)}20%{-webkit-transform:scale(.9)translatey(20px)rotatex(-10deg);-moz-transform:scale(.9)translatey(20px)rotatex(-10deg);-o-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}40%{opacity:.8}100%{-webkit-transform:scale(.2)translatey(-300px)rotatex(20deg);-moz-transform:scale(.2)translatey(-300px)rotatex(20deg);-o-transform:scale(.2)translatey(-300px)rotatex(20deg);transform:scale(.2)translatey(-300px)rotatex(20deg);opacity:0;-webkit-filter:blur(10px);filter:blur(10px)}}.composer-container.__jsx-style-dynamic-selector{width:100%;max-width:600px;margin:0 auto;-webkit-perspective:1e3px;-moz-perspective:1e3px;perspective:1e3px;padding:0 16px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transform:translatez(0);-moz-transform:translatez(0);-ms-transform:translatez(0);-o-transform:translatez(0);transform:translatez(0)}.sending.__jsx-style-dynamic-selector .composer-card.__jsx-style-dynamic-selector{-webkit-animation:flyAway 1.4s cubic-bezier(.2,.8,.2,1)forwards;-moz-animation:flyAway 1.4s cubic-bezier(.2,.8,.2,1)forwards;-o-animation:flyAway 1.4s cubic-bezier(.2,.8,.2,1)forwards;animation:flyAway 1.4s cubic-bezier(.2,.8,.2,1)forwards;pointer-events:none}@-webkit-keyframes flyAway{0%{-webkit-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;-webkit-filter:blur(0);filter:blur(0)}20%{-webkit-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}100%{-webkit-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);opacity:0;-webkit-filter:blur(10px);filter:blur(10px)}}@-moz-keyframes flyAway{0%{-moz-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;filter:blur(0)}20%{-moz-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}100%{-moz-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);opacity:0;filter:blur(10px)}}@-o-keyframes flyAway{0%{-o-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;filter:blur(0)}20%{-o-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}100%{-o-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);opacity:0;filter:blur(10px)}}@keyframes flyAway{0%{-webkit-transform:scale(1)translatey(0)rotatex(0);-moz-transform:scale(1)translatey(0)rotatex(0);-o-transform:scale(1)translatey(0)rotatex(0);transform:scale(1)translatey(0)rotatex(0);opacity:1;-webkit-filter:blur(0);filter:blur(0)}20%{-webkit-transform:scale(.9)translatey(20px)rotatex(-10deg);-moz-transform:scale(.9)translatey(20px)rotatex(-10deg);-o-transform:scale(.9)translatey(20px)rotatex(-10deg);transform:scale(.9)translatey(20px)rotatex(-10deg);opacity:1}100%{-webkit-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);-moz-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);-o-transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);transform:scale(.2)translatey(-300px)rotatex(20deg)translatez(0);opacity:0;-webkit-filter:blur(10px);filter:blur(10px)}}.composer-card.__jsx-style-dynamic-selector{position:relative;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;background:transparent;border:1px solid rgba(255,255,255,.2);-webkit-border-radius:28px;-moz-border-radius:28px;border-radius:28px;padding:30px;-webkit-box-shadow:0 10px 40px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,255,255,.1);-moz-box-shadow:0 10px 40px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,255,255,.1);box-shadow:0 10px 40px rgba(0,0,0,.5),inset 0 0 0 1px rgba(255,255,255,.1);-webkit-transform:translatez(0);-moz-transform:translatez(0);-ms-transform:translatez(0);-o-transform:translatez(0);transform:translatez(0);-webkit-transition:box-shadow.4s var(--ease-ios);-moz-transition:box-shadow.4s var(--ease-ios);-o-transition:box-shadow.4s var(--ease-ios);transition:box-shadow.4s var(--ease-ios)}.composer-card.__jsx-style-dynamic-selector::before{content:"";position:absolute;inset:0;background:rgba(255,255,255,.03);backdrop-filter:blur(32px)saturate(180%)brightness(1.1);-webkit-backdrop-filter:blur(32px)saturate(180%)brightness(1.1);-webkit-border-radius:28px;-moz-border-radius:28px;border-radius:28px;z-index:-1}@media(max-width:768px){.composer-card.__jsx-style-dynamic-selector{padding:18px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px}.composer-card.__jsx-style-dynamic-selector::before{-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px}}.focused.__jsx-style-dynamic-selector .composer-card.__jsx-style-dynamic-selector{border-color:rgba(255,255,255,.4);-webkit-box-shadow:0 30px 80px rgba(0,0,0,.6);-moz-box-shadow:0 30px 80px rgba(0,0,0,.6);box-shadow:0 30px 80px rgba(0,0,0,.6)}.focused.__jsx-style-dynamic-selector .composer-card.__jsx-style-dynamic-selector::before{background:rgba(255,255,255,.06);backdrop-filter:blur(40px)saturate(200%)brightness(1.2);-webkit-backdrop-filter:blur(40px)saturate(200%)brightness(1.2)}.letter-input.__jsx-style-dynamic-selector{background:transparent;border:none;color:var(--text-primary);font-family:var(--font-current);font-size:21px;line-height:1.6;width:100%;resize:none;outline:none;min-height:200px;max-height:60vh;overflow-y:auto;padding:0;scrollbar-width:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}@media(max-width:768px){.letter-input.__jsx-style-dynamic-selector{font-size:16px;min-height:80px;max-height:35vh;padding:8px!important}}@media(max-width:480px){.letter-input.__jsx-style-dynamic-selector{min-height:60px;max-height:30vh;font-size:15px}}.letter-input.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none}.letter-input.__jsx-style-dynamic-selector::-webkit-input-placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.letter-input.__jsx-style-dynamic-selector:-moz-placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.letter-input.__jsx-style-dynamic-selector::-moz-placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.letter-input.__jsx-style-dynamic-selector:-ms-input-placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.letter-input.__jsx-style-dynamic-selector::-ms-input-placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.letter-input.__jsx-style-dynamic-selector::placeholder{color:var(--text-secondary);opacity:.4;font-style:italic}.controls.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px;padding-top:20px;opacity:'.concat(g.length>0?1:0,";-webkit-transform:translatey(").concat(g.length>0?0:"10px",");-moz-transform:translatey(").concat(g.length>0?0:"10px",");-ms-transform:translatey(").concat(g.length>0?0:"10px",");-o-transform:translatey(").concat(g.length>0?0:"10px",");transform:translatey(").concat(g.length>0?0:"10px",");-webkit-transition:all.4s var(--ease-ios);-moz-transition:all.4s var(--ease-ios);-o-transition:all.4s var(--ease-ios);transition:all.4s var(--ease-ios);pointer-events:").concat(g.length>0?"auto":"none",';margin-top:10px;border-top:1px solid var(--glass-border)}@media(max-width:480px){.controls.__jsx-style-dynamic-selector{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-webkit-flex-direction:column-reverse;-moz-box-orient:vertical;-moz-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;gap:8px}}.helper-text.__jsx-style-dynamic-selector{font-size:13px;color:var(--text-secondary);opacity:.6}.btn-action.__jsx-style-dynamic-selector{padding:12px 28px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;font-size:15px;font-weight:600;border:none;cursor:pointer;-webkit-transition:all.3s var(--ease-ios);-moz-transition:all.3s var(--ease-ios);-o-transition:all.3s var(--ease-ios);transition:all.3s var(--ease-ios);background:var(--text-primary);color:var(--bg-depth);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:100px;height:48px}.btn-action.btn-danger.__jsx-style-dynamic-selector{background:rgba(255,69,58,.15);color:#ff453a;border:1px solid rgba(255,69,58,.2)}.btn-action.__jsx-style-dynamic-selector:hover{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02);-webkit-filter:brightness(1.1);filter:brightness(1.1)}.btn-action.disabled.__jsx-style-dynamic-selector{opacity:.4;cursor:not-allowed;-webkit-filter:grayscale(1);filter:grayscale(1)}.char-count.__jsx-style-dynamic-selector{font-size:11px;font-family:var(--font-mono,monospace);color:var(--text-secondary);opacity:.5;letter-spacing:.1em;padding:6px 14px;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.char-count.warning.__jsx-style-dynamic-selector{color:var(--accent-gold);opacity:1}.char-count.error.__jsx-style-dynamic-selector{color:var(--accent-danger);opacity:1;font-weight:bold}.dox-warning.__jsx-style-dynamic-selector{background:rgba(255,69,58,.1);border:1px solid var(--accent-danger);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:12px;margin-bottom:16px;font-size:13px;color:var(--accent-danger);line-height:1.5}.dox-warning.__jsx-style-dynamic-selector strong.__jsx-style-dynamic-selector{display:block;margin-bottom:4px}.btn-icon.__jsx-style-dynamic-selector{background:transparent;border:1px solid var(--glass-border);color:var(--text-secondary);width:32px;height:32px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.btn-icon.__jsx-style-dynamic-selector:hover{background:rgba(255,255,255,.1);color:var(--text-primary)}.btn-icon.active.__jsx-style-dynamic-selector{background:var(--accent-gold,#ffd700);color:black;border-color:var(--accent-gold,#ffd700);width:auto;padding:0 12px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;font-weight:bold;font-size:13px}.reply-context.__jsx-style-dynamic-selector{font-size:12px;color:var(--accent-gold,#ffd700);margin-bottom:10px;font-family:monospace;opacity:.8}.vim-status-bar.__jsx-style-dynamic-selector{display:none;margin-top:10px;font-family:"Fira Code",monospace;font-size:14px;color:var(--text-primary);border-top:1px solid var(--glass-border);padding-top:5px}[data-theme="neovim"] .vim-status-bar.__jsx-style-dynamic-selector,[data-theme="terminal"] .vim-status-bar.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.vim-mode.__jsx-style-dynamic-selector{font-weight:bold;color:var(--accent-success)}.vim-cmd.__jsx-style-dynamic-selector{color:var(--text-primary)}.tags-section.__jsx-style-dynamic-selector{margin-top:16px;padding-top:12px;border-top:1px solid var(--glass-border)}.tags-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:8px}.tag-pill.__jsx-style-dynamic-selector{background:rgba(255,255,255,.05);border:1px solid var(--glass-border);color:var(--text-secondary);padding:6px 14px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;font-size:12px;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;font-family:var(--font-current)}.tag-pill.__jsx-style-dynamic-selector:hover{background:rgba(255,255,255,.1);color:var(--text-primary)}.tag-pill.selected.__jsx-style-dynamic-selector{background:var(--text-primary);color:var(--bg-depth);border-color:var(--text-primary);font-weight:600}.recipient-section.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;margin-bottom:20px}.recipient-select.__jsx-style-dynamic-selector{background:rgba(255,255,255,.05);border:1px solid var(--glass-border);color:var(--text-secondary);padding:8px 16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;font-size:13px;font-family:var(--font-current);outline:none;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns=\'http:\nbackground-repeat: no-repeat;\nbackground-position: right 12px center;\nbackground-size: 14px;\npadding-right: 36px;\n}\n.recipient-select:focus {\nborder-color: var(--text-primary);\ncolor: var(--text-primary);\nbackground-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns=\'http:\n}\n.recipient-select option {\nbackground: #111; \ncolor: white;\n}\n\n:global([data-theme = \'paper\']) .recipient-select option {\nbackground: #fdfdfd;\ncolor: #333;\n}\n:global([data-theme = \'neovim\']) .recipient-select option {\nbackground: #1d2021;\ncolor: #ebdbb2;\n}\n\n\n.guidance-overlay {\nposition: fixed;\ntop: 0;\nleft: 0;\nright: 0;\nbottom: 0;\nbackground: rgba(0,0,0,0.8);\nbackdrop-filter: blur(10px);\ndisplay: flex;\nalign-items: center;\njustify-content: center;\nz-index: 1000;\npadding: 20px;\n}\n.guidance-card {\nbackground: #111;\nborder: 1px solid var(--glass-border);\nborder-radius: 20px;\npadding: 40px;\nmax-width: 450px;\ntext-align: center;\n}\n.guidance-card h3 { font-size: 24px; margin-bottom: 16px; color: var(--text-primary); }\n.guidance-card p { font-size: 16px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 24px; }\n.guidance-actions { display: flex; gap: 12px; justify-content: center; }\n\n\n.crisis-banner {\nbackground: rgba(255, 69, 58, 0.1);\nborder: 1px solid var(--accent-danger);\ncolor: var(--text-primary);\npadding: 20px;\nborder-radius: 12px;\nmargin-top: 20px;\ntext-align: center;\nanimation: fadeIn 0.5s ease;\n}\n.crisis-banner a { color: #ff453a; font-weight: bold; text-decoration: underline; }\n\n\n.focus-mode-overlay {\nposition: fixed;\ntop: 0;\nleft: 0;\nwidth: 100vw;\nheight: 100vh;\nbackground: rgba(0, 0, 0, 0.85);\nbackdrop-filter: blur(30px) saturate(180%);\n-webkit-backdrop-filter: blur(30px) saturate(180%);\nz-index: 9999;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nanimation: focusFadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);\n}\n\n@keyframes focusFadeIn {\nfrom { opacity: 0; backdrop-filter: blur(0); }\nto { opacity: 1; backdrop-filter: blur(30px); }\n}\n\n.focus-mode-content {\nwidth: 100%;\nmax-width: 700px;\npadding: 40px;\ndisplay: flex;\nflex-direction: column;\ngap: 20px;\n}\n\n.focus-textarea {\nbackground: transparent;\nborder: none;\ncolor: var(--text-primary);\nfont-family: var(--font-current);\nfont-size: 24px;\nline-height: 1.8;\nwidth: 100%;\nmin-height: 50vh;\nresize: none;\noutline: none;\ncaret-color: var(--text-primary);\n}\n\n.focus-textarea::placeholder {\ncolor: rgba(255, 255, 255, 0.2);\nfont-style: italic;\n}\n\n.focus-footer {\ndisplay: flex;\njustify-content: space-between;\nalign-items: center;\nopacity: 0.4;\ntransition: opacity 0.3s ease;\n}\n\n.focus-footer:hover {\nopacity: 0.8;\n}\n\n.focus-word-count {\nfont-size: 13px;\ncolor: var(--text-secondary);\nfont-family: monospace;\n}\n\n.focus-close-btn {\nposition: fixed;\ntop: 30px;\nright: 30px;\nbackground: rgba(255, 255, 255, 0.1);\nborder: 1px solid rgba(255, 255, 255, 0.2);\ncolor: var(--text-secondary);\nwidth: 40px;\nheight: 40px;\nborder-radius: 50%;\ncursor: pointer;\nfont-size: 18px;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\ntransition: all 0.2s ease;\nopacity: 0.5;\n}\n\n.focus-close-btn:hover {\nbackground: rgba(255, 255, 255, 0.2);\ncolor: var(--text-primary);\nopacity: 1;\ntransform: scale(1.1);\n}\n\n.focus-hint {\nposition: fixed;\nbottom: 30px;\nleft: 50%;\ntransform: translatex(-50%);\nfont-size: 12px;\ncolor: var(--text-secondary);\nopacity: 0.3;\nfont-family: monospace;\n}\n\n)})}')}),(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" composer-card",children:[c&&(0,n.jsx)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" reply-context",children:(0,n.jsxs)("span",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:["↳ Threading with Fragment #",c.id.toString().substring(0,6),"..."]})}),(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" recipient-section",children:[(0,n.jsx)("span",{style:{fontSize:"13px",color:"var(--text-secondary)",opacity:.6},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"To:"}),(0,n.jsxs)("select",{value:P,onChange:e=>B(e.target.value),className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" recipient-select",children:[(0,n.jsx)("option",{value:"unknown",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"Someone unnamed..."}),(0,n.jsx)("option",{value:"specific",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"A specific person..."}),(0,n.jsx)("option",{value:"universe",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"The universe..."}),(0,n.jsx)("option",{value:"self",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"My future/past self..."})]})]}),M&&(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" dox-warning",children:[(0,n.jsx)("strong",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"⚠️ Privacy Warning"}),M]}),(0,n.jsx)("textarea",{ref:Z,placeholder:c?"Continue the thought...":"Dear...",value:g,onChange:e=>{e.target.value.length<=7777&&h(e.target.value)},onFocus:()=>{j(!0),i&&i(!0)},onBlur:()=>{j(!1),i&&i(!1)},onDoubleClick:()=>J(!0),onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text");if(p(t)){let e=t.replace(/(https?:\/\/[^\s]+)/g,"[LINK REMOVED]"),n=Z.current.selectionStart,r=Z.current.selectionEnd;h(g.substring(0,n)+e+g.substring(r)),ee(),a&&a("Links were stripped. The void is pure.")}else{let e=Z.current.selectionStart,a=Z.current.selectionEnd;h(g.substring(0,e)+t+g.substring(a))}},onKeyDown:e=>{(0,f.yu)();let t="undefined"!=typeof document&&("neovim"===document.documentElement.getAttribute("data-theme")||"terminal"===document.documentElement.getAttribute("data-theme"));if(t){if("INSERT"===U){if("Escape"===e.key){e.preventDefault(),K("NORMAL");return}}else{if(e.preventDefault(),e.stopPropagation(),"i"===e.key){K("INSERT"),H("");return}if(":"===e.key||Y.startsWith(":")){if("Enter"===e.key){e.preventDefault(),":w"===Y&&X(),":q"===Y&&Q(),":wq"===Y&&X(),H(""),K("NORMAL");return}if("Backspace"===e.key){e.preventDefault(),H(e=>e.slice(0,-1));return}if(":"===e.key){e.preventDefault(),H(":");return}if(Y.startsWith(":")&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&"Enter"!==e.key&&"Backspace"!==e.key&&"Escape"!==e.key){e.preventDefault(),H(t=>t+e.key);return}}}}if((!t||"INSERT"===U)&&(e.ctrlKey||e.metaKey)&&("b"===e.key||"i"===e.key)){e.preventDefault();let t="b"===e.key?"**":"*",a=Z.current.selectionStart,n=Z.current.selectionEnd;if(a===n)return;let r=g.substring(a,n);h(g.substring(0,a)+t+r+t+g.substring(n)),setTimeout(()=>{Z.current.setSelectionRange(a,n+2*t.length)},0)}},rows:1,spellCheck:!1,autoCorrect:"off",autoCapitalize:"none",maxLength:7777,className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"letter-input ".concat(z?"animate-shake":"")}),(0,n.jsx)(y,{onVerify:e=>T(!0)}),(0,n.jsx)(u,{isOpen:D,onClose:()=>R(!1),onConfirm:$,risks:L.risks,warnings:L.warnings}),(0,n.jsx)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" tags-section",children:(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" tags-container",children:[["#Love","#Hope","#Regret","#Anger","#Grief","#Joy","#Fear","#Void"].map(e=>(0,n.jsx)("button",{onClick:()=>{w.includes(e)?k(w.filter(t=>t!==e)):w.length<5?k([...w,e]):ee()},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"tag-pill ".concat(w.includes(e)?"selected":""),children:e},e)),g.length>0&&(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"char-count ".concat(g.length>6999.3?"warning":""," ").concat(g.length>=7777?"error":""),children:[g.length," / ",7777]})]})}),(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" controls",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginRight:"auto"},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:[(0,n.jsx)("button",{onClick:()=>J(!0),title:"Focus Mode (⌘⇧F)",style:{opacity:.6},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" btn-icon",children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:[(0,n.jsx)("polyline",{points:"15 3 21 3 21 9",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])}),(0,n.jsx)("polyline",{points:"9 21 3 21 3 15",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])}),(0,n.jsx)("polyline",{points:"21 15 21 21 15 21",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])}),(0,n.jsx)("polyline",{points:"3 9 3 3 9 3",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])})]})}),(0,n.jsx)("button",{onClick:()=>{if(I)C(null);else{let e=new Date;e.setDate(e.getDate()+1),C(e)}},title:"Time Capsule (Lock Letter)",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"btn-icon ".concat(I?"active":""),children:"⏳"}),I&&(0,n.jsx)("input",{type:"date",min:new Date().toISOString().split("T")[0],value:I.toISOString().split("T")[0],onChange:e=>{e.target.value&&C(new Date(e.target.value))},style:{background:"transparent",border:"none",color:"var(--text-secondary)",fontFamily:"var(--font-current)",fontSize:"12px",cursor:"pointer"},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])})]}),(0,n.jsx)("div",{style:{flexGrow:1},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" helper-text",children:0===g.length?"Write what you think":""}),(0,n.jsx)("button",{onClick:Q,className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" btn-action btn-danger",children:"BURNING"===N?"\uD83D\uDD25":"Burn"}),(0,n.jsx)("button",{onClick:()=>$(!1),disabled:!E,className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" "+"btn-action ".concat(E?"":"disabled"),children:"SENDING"===N?"Sent":"Send"})]}),W&&(0,n.jsx)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" guidance-overlay",children:(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" guidance-card",children:[(0,n.jsx)("h3",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"Is this a letter?"}),(0,n.jsx)("p",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"WBDS is a space for unsent letters and personal release. Your words feel more like a story or a public post."}),(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" guidance-actions",children:[(0,n.jsx)("button",{onClick:()=>F(!1),className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" btn-action btn-danger",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>$(!0),className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" btn-action",children:"It IS a letter"})]})]})}),V&&(0,n.jsxs)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" crisis-banner",children:[(0,n.jsx)("p",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"The void hears you, but the world still needs you."}),(0,n.jsxs)("p",{style:{fontSize:"14px",marginTop:"8px"},className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:["You are not alone. Please consider reaching out: ",(0,n.jsx)("br",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])}),(0,n.jsx)("strong",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"National Suicide Prevention Lifeline: 988"})," or ",(0,n.jsx)("a",{href:"https://findahelpline.com",target:"_blank",className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]]),children:"Find a local helpline"})]}),(0,n.jsx)("button",{style:{marginTop:"16px",background:"rgba(255,255,255,0.1)"},onClick:()=>G(!1),className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" tag-pill",children:"Close"})]}),(0,n.jsx)("div",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" vim-status-bar",children:Y?(0,n.jsxs)("span",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" vim-cmd",children:[Y,(0,n.jsx)("span",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" cursor-block"})]}):(0,n.jsxs)("span",{className:"jsx-d5edc63b1fc45543 "+r.dynamic([["1a9d164612c9b828",[g.length>0?1:0,g.length>0?0:"10px",g.length>0?"auto":"none"]]])+" vim-mode",children:["-- ",U," --"]})})]}),(0,n.jsx)(r,{id:"d5edc63b1fc45543",children:'.cursor-block{display:inline-block;width:10px;height:18px;background:var(--text-primary);margin-left:2px;vertical-align:middle;-webkit-animation:blink 1s step-end infinite;-moz-animation:blink 1s step-end infinite;-o-animation:blink 1s step-end infinite;animation:blink 1s step-end infinite}@-webkit-keyframes blink{50%{opacity:0}}@-moz-keyframes blink{50%{opacity:0}}@-o-keyframes blink{50%{opacity:0}}@keyframes blink{50%{opacity:0}}.vim-status-bar{display:none;margin-top:10px;font-family:"Fira Code",monospace;font-size:14px;color:var(--text-primary);border-top:1px solid var(--glass-border);padding-top:5px}[data-theme="neovim"] .vim-status-bar,[data-theme="terminal"] .vim-status-bar{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}[data-theme="neovim"] .composer-container{width:500px!important;max-width:500px!important;height:500px!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;border-radius:0!important;padding:0!important}@media(max-width:600px){[data-theme="neovim"] .composer-container{width:100%!important;max-width:100%!important;height:auto!important;min-height:400px!important}}[data-theme="neovim"] .composer-card{background:#1d2021!important;-webkit-box-shadow:0 0 0 2px rgba(235,219,178,.4)!important;-moz-box-shadow:0 0 0 2px rgba(235,219,178,.4)!important;box-shadow:0 0 0 2px rgba(235,219,178,.4)!important;border:2px solid#ebdbb2!important;-webkit-border-radius:0!important;-moz-border-radius:0!important;border-radius:0!important;padding:0!important;display:-webkit-box!important;display:-webkit-flex!important;display:-moz-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-moz-box-orient:vertical!important;-moz-box-direction:normal!important;-ms-flex-direction:column!important;flex-direction:column!important;overflow:hidden!important;width:500px!important;height:500px!important;min-height:500px!important;margin:0 auto!important}@media(max-width:600px){[data-theme="neovim"] .composer-card{width:100%!important;height:auto!important;min-height:400px!important}}[data-theme="neovim"] .letter-input{font-family:"Fira Code",monospace!important;font-size:15px!important;line-height:1.6!important;padding:20px 20px!important;width:100%!important;height:100%!important;min-height:0!important;border:none!important;outline:none!important;resize:none!important;-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}[data-theme="neovim"] .controls{opacity:0!important;pointer-events:none!important;height:0;overflow:hidden}@media(max-width:768px){[data-theme="neovim"] .controls{opacity:1!important;pointer-events:auto!important;height:auto!important;overflow:visible!important;padding-top:10px}}[data-theme="neovim"] .vim-status-bar{position:relative;bottom:auto;left:auto;width:100%;padding:8px 15px;font-size:13px;border-top:1px solid rgba(235,219,178,.1);background:rgba(30,30,30,.5);-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.vim-mode{font-weight:bold;color:var(--accent-success)}.vim-cmd{color:var(--text-primary);font-weight:bold;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}'})]}),et]})}var h=a(7055);function w(e){let{letters:t,onOpen:a,onDelete:i,myLetterIds:s,onLike:l,likedLetters:c,onReport:d,viewMode:p,isAdmin:x,adminSecret:b,triggerModal:m}=e,[f,y]=(0,o.useState)(null),[u,g]=(0,o.useState)(new Set),w=async(e,t,a,n,r)=>{e.stopPropagation(),m({isOpen:!0,type:"confirm",title:"Moderation Action",message:"Are you sure you want to ".concat("burn"===t?"delete this letter forever":"shadow-ban this user","?"),onConfirm:async()=>{try{let e=await fetch("/api/admin/action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,letterId:a,ip:n,fingerprint:r,adminSecret:b})}),o=await e.json();o.success?m({isOpen:!0,type:"alert",title:"Success",message:o.message,onConfirm:()=>{m(e=>({...e,isOpen:!1})),window.location.reload()}}):m({isOpen:!0,type:"alert",title:"Failed",message:o.error||"Action failed",onConfirm:()=>m(e=>({...e,isOpen:!1}))})}catch(e){console.error("Admin Action Error:",e)}},onCancel:()=>m(e=>({...e,isOpen:!1}))})};(0,o.useEffect)(()=>{{let e=localStorage.getItem("wbds_pinned_letters");if(e)try{g(new Set(JSON.parse(e)))}catch(e){console.error("Failed to load pinned letters")}}},[]);let k=e=>{g(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),localStorage.setItem("wbds_pinned_letters",JSON.stringify([...a])),a})},v=f?t.filter(e=>e.tags&&e.tags.includes(f)):t;return("saved"===p&&(v=t.filter(e=>u.has(e.id))),"saved"===p&&0===v.length)?(0,n.jsxs)("div",{className:"empty-state",style:{marginTop:60,textAlign:"center",opacity:.5},children:[(0,n.jsx)("p",{style:{fontSize:16,marginBottom:8},children:"\uD83D\uDCD6 No saved letters yet"}),(0,n.jsx)("p",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Click the bookmark icon on any letter to save it here"})]}):t&&0!==t.length?(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 feed-container",children:[(0,n.jsx)(r,{id:"979e4366efb50349",children:'.feed-container.jsx-979e4366efb50349{margin-top:40px;padding-bottom:100px;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding-left:16px;padding-right:16px}.witness-badge.jsx-979e4366efb50349{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:6px;font-size:13px;color:var(--text-secondary);opacity:.7;margin-right:8px}.witness-badge.jsx-979e4366efb50349 svg.jsx-979e4366efb50349{width:16px;height:16px}.filter-bar.jsx-979e4366efb50349{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;overflow-x:auto;padding-bottom:20px;margin-bottom:20px;scrollbar-width:none;-webkit-overflow-scrolling:touch}.filter-bar.jsx-979e4366efb50349::-webkit-scrollbar{display:none}.filter-pill.jsx-979e4366efb50349{background:rgba(255,255,255,.05);border:1px solid var(--glass-border);color:var(--text-secondary);padding:8px 16px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;font-size:13px;white-space:nowrap;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;font-family:var(--font-current)}.filter-pill.jsx-979e4366efb50349:hover{background:rgba(255,255,255,.1);color:var(--text-primary)}.filter-pill.active.jsx-979e4366efb50349{background:var(--text-primary);color:var(--bg-depth);border-color:var(--text-primary);font-weight:600}@media(max-width:768px){.feed-container.jsx-979e4366efb50349{margin-top:20px;padding-left:12px;padding-right:12px;padding-bottom:120px}}.letter-card.jsx-979e4366efb50349{margin-bottom:40px;opacity:0;-webkit-animation:fadeIn.8s ease forwards;-moz-animation:fadeIn.8s ease forwards;-o-animation:fadeIn.8s ease forwards;animation:fadeIn.8s ease forwards;cursor:pointer;-webkit-transition:-webkit-transform.2s ease,opacity.2s ease;-moz-transition:-moz-transform.2s ease,opacity.2s ease;-o-transition:-o-transform.2s ease,opacity.2s ease;transition:-webkit-transform.2s ease,opacity.2s ease;transition:-moz-transform.2s ease,opacity.2s ease;transition:-o-transform.2s ease,opacity.2s ease;transition:transform.2s ease,opacity.2s ease;position:relative;width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}@media(max-width:768px){.letter-card.jsx-979e4366efb50349{margin-bottom:24px}}@media(hover:hover){.letter-card.jsx-979e4366efb50349:hover{-webkit-transform:scale(1.02);-moz-transform:scale(1.02);-ms-transform:scale(1.02);-o-transform:scale(1.02);transform:scale(1.02);opacity:.9}}.letter-content.jsx-979e4366efb50349{background:var(--bg-surface);-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;padding:24px;font-family:var(--font-current);font-size:var(--letter-font-size,18px);line-height:1.6;color:var(--text-primary);-webkit-box-shadow:0 4px 20px rgba(0,0,0,.4);-moz-box-shadow:0 4px 20px rgba(0,0,0,.4);box-shadow:0 4px 20px rgba(0,0,0,.4);max-height:300px;overflow:hidden;border:1px solid var(--glass-border);width:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.letter-content.pinned.jsx-979e4366efb50349{border-color:#d4af37;-webkit-box-shadow:0 4px 20px rgba(212,175,55,.2);-moz-box-shadow:0 4px 20px rgba(212,175,55,.2);box-shadow:0 4px 20px rgba(212,175,55,.2)}.pin-btn.jsx-979e4366efb50349{position:absolute;top:24px;right:90px;background:transparent;border:none;color:var(--text-secondary);padding:0;width:24px;height:24px;opacity:0;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease;cursor:pointer;z-index:10}.pin-btn.pinned.jsx-979e4366efb50349{color:#d4af37;opacity:1!important}@media(hover:hover){.letter-card.jsx-979e4366efb50349:hover .pin-btn.jsx-979e4366efb50349{opacity:.5}}@media(max-width:768px){.pin-btn.jsx-979e4366efb50349{opacity:.3;top:16px;right:85px}}.pin-btn.jsx-979e4366efb50349:hover{opacity:1!important;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.content-text.jsx-979e4366efb50349{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;overflow:hidden}.card-tags.jsx-979e4366efb50349{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;margin-top:16px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.card-tag.jsx-979e4366efb50349{font-size:11px;color:var(--text-secondary);background:rgba(255,255,255,.03);padding:4px 10px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:1px solid var(--glass-border);opacity:.7}@media(max-width:768px){.letter-content.jsx-979e4366efb50349{padding:16px;font-size:16px;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;max-height:250px}}@media(max-width:480px){.letter-content.jsx-979e4366efb50349{padding:14px;font-size:15px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px}}.letter-content.jsx-979e4366efb50349 p{margin:0 0 16px 0}.letter-content.jsx-979e4366efb50349 p:last-child{margin:0}.letter-content.jsx-979e4366efb50349 strong{font-weight:700;color:var(--text-primary)}.letter-content.jsx-979e4366efb50349 em{font-style:italic;opacity:.8}.letter-content.jsx-979e4366efb50349 blockquote{border-left:2px solid var(--text-secondary);margin:16px 0;padding-left:16px;opacity:.7}.letter-meta.jsx-979e4366efb50349{margin-top:12px;font-size:12px;color:var(--text-secondary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.delete-btn.jsx-979e4366efb50349{position:absolute;top:24px;right:24px;background:transparent;border:none;color:#444;padding:0;width:24px;height:24px;opacity:0;-webkit-transition:all.4s ease;-moz-transition:all.4s ease;-o-transition:all.4s ease;transition:all.4s ease;cursor:pointer;z-index:10}@media(max-width:768px){.delete-btn.jsx-979e4366efb50349{opacity:.3;top:16px;right:16px}}@media(hover:hover){.letter-card.jsx-979e4366efb50349:hover .delete-btn.jsx-979e4366efb50349{opacity:.2}}.delete-btn.jsx-979e4366efb50349:hover{opacity:1!important;color:#888;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.report-btn.jsx-979e4366efb50349{position:absolute;top:15px;right:55px;background:rgba(255,152,0,.1);color:#ff9800;border:1px solid#ff9800;width:32px;height:32px;min-width:32px;min-height:32px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:0;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;cursor:pointer;font-size:14px;line-height:1;z-index:10}@media(max-width:768px){.report-btn.jsx-979e4366efb50349{opacity:.6;width:36px;height:36px;min-width:36px;min-height:36px;top:12px;right:50px}}@media(hover:hover){.letter-card.jsx-979e4366efb50349:hover .report-btn.jsx-979e4366efb50349{opacity:1}}.report-btn.jsx-979e4366efb50349:hover{background:#ff9800;color:white;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.admin-tools.jsx-979e4366efb50349{position:absolute;top:15px;right:15px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:8px;z-index:20}.admin-btn.jsx-979e4366efb50349{width:32px;height:32px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border:1px solid rgba(255,255,255,.2);background:rgba(0,0,0,.6);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:14px;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.admin-btn.jsx-979e4366efb50349:hover{-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-ms-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2);background:#fff;color:#000}.admin-btn.burn.jsx-979e4366efb50349:hover{background:#ff453a;color:white;border-color:#ff453a}.admin-btn.ban.jsx-979e4366efb50349:hover{background:#000;color:white;border-color:#fff}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.action-bar.jsx-979e4366efb50349{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}@media(max-width:480px){.action-bar.jsx-979e4366efb50349{gap:8px}}.like-btn.jsx-979e4366efb50349{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:6px;padding:8px 12px;min-height:40px;min-width:40px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-ms-touch-action:-ms-manipulation;-ms-touch-action:manipulation;touch-action:manipulation}.like-btn.jsx-979e4366efb50349:hover{background:rgba(255,255,255,.05);color:var(--accent-danger)}.like-btn.liked.jsx-979e4366efb50349{color:var(--accent-danger)}.like-btn.liked.jsx-979e4366efb50349 svg.jsx-979e4366efb50349{-webkit-filter:drop-shadow(0 0 8px rgba(255,69,58,.4));filter:drop-shadow(0 0 8px rgba(255,69,58,.4));-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.like-count.jsx-979e4366efb50349{font-size:13px;font-weight:600}.share-btn.jsx-979e4366efb50349{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:8px;min-height:36px;min-width:36px;-webkit-border-radius:10px;-moz-border-radius:10px;border-radius:10px;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;-ms-touch-action:-ms-manipulation;-ms-touch-action:manipulation;touch-action:manipulation}.share-btn.jsx-979e4366efb50349:hover{background:rgba(255,255,255,.05);color:var(--text-primary)}.share-btn.copied.jsx-979e4366efb50349{color:#30d158}.share-btn.copied.jsx-979e4366efb50349::after{content:"✓";position:absolute;font-size:10px}.locked-content.jsx-979e4366efb50349{background:#000;border-color:#333;color:#444;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:150px;position:relative;overflow:hidden}.locked-overlay.jsx-979e4366efb50349{text-align:center;z-index:2}.unlock-date.jsx-979e4366efb50349{display:block;margin-top:8px;font-size:11px;color:#666;font-family:monospace;letter-spacing:1px;text-transform:uppercase}.glitch-text.jsx-979e4366efb50349{font-weight:bold;font-size:24px;color:white;letter-spacing:4px;position:relative}.glitch-text.jsx-979e4366efb50349::before,.glitch-text.jsx-979e4366efb50349::after{content:attr(data-text);position:absolute;top:0;left:0;width:100%;height:100%;background:#000}.glitch-text.jsx-979e4366efb50349::before{left:2px;text-shadow:-1px 0 red;clip:rect(24px,550px,90px,0);animation:glitch-anim-1 2.5s infinite linear alternate-reverse}.glitch-text.jsx-979e4366efb50349::after{left:-2px;text-shadow:-1px 0 blue;clip:rect(85px,550px,140px,0);animation:glitch-anim-2 3s infinite linear alternate-reverse}@-webkit-keyframes glitch-anim-1{0%{clip:rect(20px,9999px,15px,0)}20%{clip:rect(50px,9999px,60px,0)}40%{clip:rect(10px,9999px,80px,0)}60%{clip:rect(30px,9999px,10px,0)}80%{clip:rect(80px,9999px,40px,0)}100%{clip:rect(60px,9999px,90px,0)}}@-moz-keyframes glitch-anim-1{0%{clip:rect(20px,9999px,15px,0)}20%{clip:rect(50px,9999px,60px,0)}40%{clip:rect(10px,9999px,80px,0)}60%{clip:rect(30px,9999px,10px,0)}80%{clip:rect(80px,9999px,40px,0)}100%{clip:rect(60px,9999px,90px,0)}}@-o-keyframes glitch-anim-1{0%{clip:rect(20px,9999px,15px,0)}20%{clip:rect(50px,9999px,60px,0)}40%{clip:rect(10px,9999px,80px,0)}60%{clip:rect(30px,9999px,10px,0)}80%{clip:rect(80px,9999px,40px,0)}100%{clip:rect(60px,9999px,90px,0)}}@keyframes glitch-anim-1{0%{clip:rect(20px,9999px,15px,0)}20%{clip:rect(50px,9999px,60px,0)}40%{clip:rect(10px,9999px,80px,0)}60%{clip:rect(30px,9999px,10px,0)}80%{clip:rect(80px,9999px,40px,0)}100%{clip:rect(60px,9999px,90px,0)}}@-webkit-keyframes glitch-anim-2{0%{clip:rect(60px,9999px,70px,0)}20%{clip:rect(10px,9999px,30px,0)}40%{clip:rect(90px,9999px,10px,0)}60%{clip:rect(15px,9999px,80px,0)}80%{clip:rect(50px,9999px,40px,0)}100%{clip:rect(30px,9999px,60px,0)}}@-moz-keyframes glitch-anim-2{0%{clip:rect(60px,9999px,70px,0)}20%{clip:rect(10px,9999px,30px,0)}40%{clip:rect(90px,9999px,10px,0)}60%{clip:rect(15px,9999px,80px,0)}80%{clip:rect(50px,9999px,40px,0)}100%{clip:rect(30px,9999px,60px,0)}}@-o-keyframes glitch-anim-2{0%{clip:rect(60px,9999px,70px,0)}20%{clip:rect(10px,9999px,30px,0)}40%{clip:rect(90px,9999px,10px,0)}60%{clip:rect(15px,9999px,80px,0)}80%{clip:rect(50px,9999px,40px,0)}100%{clip:rect(30px,9999px,60px,0)}}@keyframes glitch-anim-2{0%{clip:rect(60px,9999px,70px,0)}20%{clip:rect(10px,9999px,30px,0)}40%{clip:rect(90px,9999px,10px,0)}60%{clip:rect(15px,9999px,80px,0)}80%{clip:rect(50px,9999px,40px,0)}100%{clip:rect(30px,9999px,60px,0)}}'}),(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 filter-bar",children:[(0,n.jsx)("button",{onClick:()=>y(null),className:"jsx-979e4366efb50349 "+"filter-pill ".concat(null===f?"active":""),children:"All"}),["#Love","#Hope","#Regret","#Anger","#Grief","#Joy","#Fear","#Void"].map(e=>(0,n.jsx)("button",{onClick:()=>y(e===f?null:e),className:"jsx-979e4366efb50349 "+"filter-pill ".concat(f===e?"active":""),children:e},e))]}),v.map(e=>(0,n.jsxs)("div",{onClick:()=>{a&&a(e),console.log("Witness Triggered for:",e.id);let t="wbds_witness_".concat(e.id);sessionStorage.getItem(t)?console.log("Already witnessed in this session."):(console.log("Sending Witness Request..."),fetch("/api/letters/view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({letter_id:e.id})}).then(e=>e.json()).then(e=>console.log("Witness Response:",e)).catch(e=>console.error("Witness failed",e)),sessionStorage.setItem(t,"true"))},className:"jsx-979e4366efb50349 letter-card",children:[d&&(!s||!s.has(e.id))&&(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id)},title:"Report inappropriate content",className:"jsx-979e4366efb50349 report-btn",children:"⚠"}),x&&(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 admin-tools",children:[(0,n.jsx)("button",{onClick:t=>w(t,"burn",e.id),title:"Burn Letter (Instant Delete)",className:"jsx-979e4366efb50349 admin-btn burn",children:"\uD83D\uDD25"}),(0,n.jsx)("button",{onClick:t=>w(t,"shadow_ban",e.id,e.ip_address,e.browser_fingerprint),title:"Shadow Ban User",className:"jsx-979e4366efb50349 admin-btn ban",children:"\uD83D\uDEAB"})]}),s&&s.has(e.id)&&(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),i(e.id)},title:"Delete your letter",className:"jsx-979e4366efb50349 delete-btn",children:(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-979e4366efb50349",children:[(0,n.jsx)("polyline",{points:"3 6 5 6 21 6",className:"jsx-979e4366efb50349"}),(0,n.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",className:"jsx-979e4366efb50349"})]})}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation(),k(e.id)},title:u.has(e.id)?"Unpin letter":"Pin letter",className:"jsx-979e4366efb50349 "+"pin-btn ".concat(u.has(e.id)?"pinned":""),children:(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:u.has(e.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-979e4366efb50349",children:(0,n.jsx)("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",className:"jsx-979e4366efb50349"})})}),(0,n.jsx)("div",{className:"jsx-979e4366efb50349 "+"letter-content ".concat(e.is_locked?"locked-content":""," ").concat(u.has(e.id)?"pinned":""),children:e.is_locked?(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 locked-overlay",children:[(0,n.jsx)("div",{"data-text":"LOCKED",className:"jsx-979e4366efb50349 glitch-text",children:"LOCKED"}),(0,n.jsxs)("span",{className:"jsx-979e4366efb50349 unlock-date",children:["Unlocks ",new Date(e.unlock_at).toLocaleDateString()]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"jsx-979e4366efb50349 content-text",children:(0,n.jsx)(h.UG,{children:e.content})}),e.tags&&e.tags.length>0&&(0,n.jsx)("div",{className:"jsx-979e4366efb50349 card-tags",children:e.tags.map(e=>(0,n.jsx)("span",{className:"jsx-979e4366efb50349 card-tag",children:e},e))})]})}),(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 letter-meta",children:[(0,n.jsx)("span",{className:"jsx-979e4366efb50349",children:"Anonymous"}),(0,n.jsxs)("div",{className:"jsx-979e4366efb50349 action-bar",children:[(0,n.jsxs)("div",{title:"Witnesses",className:"jsx-979e4366efb50349 witness-badge",children:[(0,n.jsxs)("svg",{width:"16",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-979e4366efb50349",children:[(0,n.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",className:"jsx-979e4366efb50349"}),(0,n.jsx)("circle",{cx:"12",cy:"12",r:"3",className:"jsx-979e4366efb50349"})]}),(0,n.jsx)("span",{className:"jsx-979e4366efb50349",children:e.views||0})]}),(0,n.jsxs)("button",{onClick:t=>{t.stopPropagation(),l(e.id)},className:"jsx-979e4366efb50349 "+"like-btn ".concat(c&&c.has(e.id)?"liked":""),children:[(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:c&&c.has(e.id)?"currentColor":"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-979e4366efb50349",children:(0,n.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z",className:"jsx-979e4366efb50349"})}),e.likes>0&&(0,n.jsx)("span",{className:"jsx-979e4366efb50349 like-count",children:e.likes})]}),(0,n.jsx)("button",{onClick:t=>{t.stopPropagation();let a="".concat(window.location.origin,"/letter/").concat(e.id);navigator.clipboard.writeText(a);let n=t.currentTarget;n.classList.add("copied"),setTimeout(()=>n.classList.remove("copied"),1500)},title:"Copy link to this letter",className:"jsx-979e4366efb50349 share-btn",children:(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-979e4366efb50349",children:[(0,n.jsx)("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",className:"jsx-979e4366efb50349"}),(0,n.jsx)("polyline",{points:"16 6 12 2 8 6",className:"jsx-979e4366efb50349"}),(0,n.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"15",className:"jsx-979e4366efb50349"})]})}),(0,n.jsx)("span",{className:"jsx-979e4366efb50349 timestamp",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]},e.id))]}):(0,n.jsxs)("div",{className:"jsx-ce81da498a6646c5 empty-state",children:[(0,n.jsx)("p",{className:"jsx-ce81da498a6646c5"})," ",(0,n.jsx)(r,{id:"ce81da498a6646c5",children:".empty-state.jsx-ce81da498a6646c5{text-align:center;opacity:.3;margin-top:60px;font-size:14px}"})]})}function k(e){let{message:t,type:a="error",onClose:i}=e,[s,l]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{requestAnimationFrame(()=>l(!0));let e=setTimeout(()=>{l(!1),setTimeout(i,300)},3e3);return()=>clearTimeout(e)},[i]),(0,n.jsxs)("div",{className:"jsx-13439b32ab518ffa "+"notification-container ".concat(s?"visible":""," ").concat(a),children:[(0,n.jsx)(r,{id:"13439b32ab518ffa",children:".notification-container.jsx-13439b32ab518ffa{position:fixed;top:20px;left:50%;-webkit-transform:translatex(-50%)translatey(-20px);-moz-transform:translatex(-50%)translatey(-20px);-ms-transform:translatex(-50%)translatey(-20px);-o-transform:translatex(-50%)translatey(-20px);transform:translatex(-50%)translatey(-20px);background:rgba(20,20,20,.9);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.1);padding:12px 24px;-webkit-border-radius:99px;-moz-border-radius:99px;border-radius:99px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;color:var(--text-primary);font-size:14px;font-weight:500;opacity:0;-webkit-transition:all.3s cubic-bezier(.25,1,.5,1);-moz-transition:all.3s cubic-bezier(.25,1,.5,1);-o-transition:all.3s cubic-bezier(.25,1,.5,1);transition:all.3s cubic-bezier(.25,1,.5,1);z-index:9999;-webkit-box-shadow:0 10px 40px rgba(0,0,0,.5);-moz-box-shadow:0 10px 40px rgba(0,0,0,.5);box-shadow:0 10px 40px rgba(0,0,0,.5)}.notification-container.visible.jsx-13439b32ab518ffa{opacity:1;-webkit-transform:translatex(-50%)translatey(0);-moz-transform:translatex(-50%)translatey(0);-ms-transform:translatex(-50%)translatey(0);-o-transform:translatex(-50%)translatey(0);transform:translatex(-50%)translatey(0)}.notification-container.error.jsx-13439b32ab518ffa{border-color:rgba(255,69,58,.3);-webkit-box-shadow:0 0 20px rgba(255,69,58,.1);-moz-box-shadow:0 0 20px rgba(255,69,58,.1);box-shadow:0 0 20px rgba(255,69,58,.1)}.icon.jsx-13439b32ab518ffa{font-size:16px}"}),(0,n.jsx)("span",{className:"jsx-13439b32ab518ffa icon",children:"error"===a?"⛔":"ℹ️"}),(0,n.jsx)("span",{className:"jsx-13439b32ab518ffa",children:t})]})}function v(e){let{letter:t,onClose:a,isOwner:i,onReply:s}=e,[l,c]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=setTimeout(()=>c(!0),10);return()=>clearTimeout(e)},[t]),t)?(0,n.jsxs)("div",{onClick:()=>{c(!1),setTimeout(a,300)},className:"jsx-def8acc0dfe24477 "+"modal-overlay ".concat(l?"open":""),children:[(0,n.jsx)(r,{id:"2c07b55a182094a7",children:'.modal-overlay.jsx-def8acc0dfe24477{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.4);backdrop-filter:blur(0px);-webkit-backdrop-filter:blur(0px);z-index:1000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:0;-webkit-transition:all.4s ease;-moz-transition:all.4s ease;-o-transition:all.4s ease;transition:all.4s ease;cursor:pointer}.modal-overlay.open.jsx-def8acc0dfe24477{opacity:1;backdrop-filter:blur(20px)saturate(180%);-webkit-backdrop-filter:blur(20px)saturate(180%);background:rgba(0,0,0,.6)}.modal-content.jsx-def8acc0dfe24477{background:var(--bg-surface);width:90%;max-width:500px;padding:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 60px rgba(0,0,0,.5);-moz-box-shadow:0 20px 60px rgba(0,0,0,.5);box-shadow:0 20px 60px rgba(0,0,0,.5);-webkit-transform:scale(.95);-moz-transform:scale(.95);-ms-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95);-webkit-transition:all.4s cubic-bezier(.175,.885,.32,1.275);-moz-transition:all.4s cubic-bezier(.175,.885,.32,1.275);-o-transition:all.4s cubic-bezier(.175,.885,.32,1.275);transition:all.4s cubic-bezier(.175,.885,.32,1.275);cursor:default;color:var(--text-primary);font-family:var(--font-current);position:relative;border:1px solid var(--glass-border);max-height:80vh;overflow-y:auto;scrollbar-width:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch}@media(max-width:768px){.modal-content.jsx-def8acc0dfe24477{width:95%;padding:28px 24px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;max-height:85vh}}@media(max-width:480px){.modal-content.jsx-def8acc0dfe24477{width:100%;padding:24px 20px;-webkit-border-radius:16px 16px 0 0;-moz-border-radius:16px 16px 0 0;border-radius:16px 16px 0 0;max-height:90vh;margin-top:auto;-webkit-transform:translatey(100%);-moz-transform:translatey(100%);-ms-transform:translatey(100%);-o-transform:translatey(100%);transform:translatey(100%)}.modal-overlay.open.jsx-def8acc0dfe24477 .modal-content.jsx-def8acc0dfe24477{-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.modal-content.jsx-def8acc0dfe24477::-webkit-scrollbar{display:none}.modal-overlay.open.jsx-def8acc0dfe24477 .modal-content.jsx-def8acc0dfe24477{-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}.paper-texture.jsx-def8acc0dfe24477{font-size:20px;line-height:1.8}@media(max-width:768px){.paper-texture.jsx-def8acc0dfe24477{font-size:18px;line-height:1.7}}@media(max-width:480px){.paper-texture.jsx-def8acc0dfe24477{font-size:16px;line-height:1.6}}.paper-texture.jsx-def8acc0dfe24477 p{margin:0 0 20px 0}.paper-texture.jsx-def8acc0dfe24477 strong{font-weight:bold;color:var(--text-primary)}.paper-texture.jsx-def8acc0dfe24477 em{font-style:italic;opacity:.8}.paper-texture.jsx-def8acc0dfe24477 blockquote{border-left:3px solid var(--text-secondary);padding-left:20px;margin:20px 0;opacity:.7}.signature.jsx-def8acc0dfe24477{margin-top:40px;text-align:right;font-style:italic;font-size:16px;color:var(--text-secondary);font-family:"Snell Roundhand","Cursive",serif;opacity:.7}'}),(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-def8acc0dfe24477 modal-content",children:[(0,n.jsx)("div",{className:"jsx-def8acc0dfe24477 paper-texture",children:(0,n.jsx)(h.UG,{children:t.content})}),(0,n.jsx)("div",{className:"jsx-def8acc0dfe24477 signature",children:"- Anonymous"}),i&&(0,n.jsx)("div",{className:"jsx-def8acc0dfe24477 owner-actions",children:(0,n.jsxs)("button",{onClick:()=>s(t),className:"jsx-def8acc0dfe24477 btn-reply",children:[(0,n.jsx)("span",{className:"jsx-def8acc0dfe24477",children:"↳"})," Reply to Self"]})})]}),(0,n.jsx)(r,{id:"1e8b72896f792bc3",children:".owner-actions.jsx-def8acc0dfe24477{margin-top:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;border-top:1px solid var(--glass-border);padding-top:15px}.btn-reply.jsx-def8acc0dfe24477{background:transparent;border:1px solid var(--text-secondary);color:var(--text-primary);padding:8px 16px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;font-family:var(--font-current);cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;opacity:.7;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-reply.jsx-def8acc0dfe24477:hover{opacity:1;background:rgba(255,255,255,.05);border-color:var(--text-primary)}"})]}):null}function j(e){let{isOpen:t,onClose:a,onSubmit:i}=e,[s,l]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{t&&(l(""),d(""))},[t]),t)?(0,n.jsxs)("div",{onClick:a,className:"jsx-b458372a0f42a98e modal-overlay",children:[(0,n.jsx)(r,{id:"b458372a0f42a98e",children:".modal-overlay.jsx-b458372a0f42a98e{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:10000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.modal-card.jsx-b458372a0f42a98e{background:var(--bg-surface,#111);border:1px solid var(--glass-border,rgba(255,255,255,.1));padding:30px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;width:90%;max-width:400px;-webkit-box-shadow:0 20px 60px rgba(0,0,0,.5);-moz-box-shadow:0 20px 60px rgba(0,0,0,.5);box-shadow:0 20px 60px rgba(0,0,0,.5);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-transition:-webkit-transform.2s cubic-bezier(.175,.885,.32,1.275);-moz-transition:-moz-transform.2s cubic-bezier(.175,.885,.32,1.275);-o-transition:-o-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-webkit-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-moz-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:-o-transform.2s cubic-bezier(.175,.885,.32,1.275);transition:transform.2s cubic-bezier(.175,.885,.32,1.275)}.shimmy.jsx-b458372a0f42a98e{-webkit-animation:shimmy.3s ease-in-out;-moz-animation:shimmy.3s ease-in-out;-o-animation:shimmy.3s ease-in-out;animation:shimmy.3s ease-in-out}@-webkit-keyframes shimmy{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shimmy{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-5px);transform:translatex(-5px)}75%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shimmy{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shimmy{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}h2.jsx-b458372a0f42a98e{margin:0 0 20px 0;font-size:20px;color:var(--text-primary,#fff);text-align:center}.options.jsx-b458372a0f42a98e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:12px;margin-bottom:24px}.option-btn.jsx-b458372a0f42a98e{background:rgba(255,255,255,.05);border:1px solid transparent;padding:12px 16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;color:var(--text-secondary,#ccc);text-align:left;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;font-family:inherit;font-size:14px}.option-btn.jsx-b458372a0f42a98e:hover{background:rgba(255,255,255,.1);color:var(--text-primary,#fff)}.option-btn.selected.jsx-b458372a0f42a98e{background:rgba(255,69,58,.15);border-color:rgba(255,69,58,.5);color:#ff453a;font-weight:600}textarea.jsx-b458372a0f42a98e{width:100%;background:rgba(0,0,0,.2);border:1px solid var(--glass-border,rgba(255,255,255,.1));color:var(--text-primary,#fff);padding:12px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;resize:none;height:80px;font-family:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin-top:-4px;margin-bottom:24px}textarea.jsx-b458372a0f42a98e:focus{outline:none;border-color:var(--text-secondary,#888)}.actions.jsx-b458372a0f42a98e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;gap:12px}.btn.jsx-b458372a0f42a98e{padding:10px 20px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;font-size:14px;font-weight:600;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:none}.btn-cancel.jsx-b458372a0f42a98e{background:transparent;color:var(--text-secondary,#ccc)}.btn-cancel.jsx-b458372a0f42a98e:hover{color:var(--text-primary,#fff);background:rgba(255,255,255,.05)}.btn-submit.jsx-b458372a0f42a98e{background:var(--text-primary,#fff);color:#000;opacity:.5;pointer-events:none}.btn-submit.active.jsx-b458372a0f42a98e{opacity:1;pointer-events:auto}.btn-submit.jsx-b458372a0f42a98e:hover{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-ms-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}"}),(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-b458372a0f42a98e "+"modal-card ".concat(p?"shimmy":""),children:[(0,n.jsx)("h2",{className:"jsx-b458372a0f42a98e",children:"Report Letter"}),(0,n.jsxs)("div",{className:"jsx-b458372a0f42a98e options",children:[["Contains personal information","Harassment or hate speech","Spam or commercial","Illegal content"].map(e=>(0,n.jsx)("button",{onClick:()=>l(e),className:"jsx-b458372a0f42a98e "+"option-btn ".concat(s===e?"selected":""),children:e},e)),(0,n.jsx)("button",{onClick:()=>l("other"),className:"jsx-b458372a0f42a98e "+"option-btn ".concat("other"===s?"selected":""),children:"Other"})]}),"other"===s&&(0,n.jsx)("textarea",{placeholder:"Please describe the issue...",value:c,onChange:e=>d(e.target.value),autoFocus:!0,className:"jsx-b458372a0f42a98e"}),(0,n.jsxs)("div",{className:"jsx-b458372a0f42a98e actions",children:[(0,n.jsx)("button",{onClick:a,className:"jsx-b458372a0f42a98e btn btn-cancel",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>{if(!s){x(!0),setTimeout(()=>x(!1),300);return}i("other"===s?c:s),a()},className:"jsx-b458372a0f42a98e "+"btn btn-submit ".concat(s&&("other"!==s||c.trim().length>0)?"active":""),children:"Report"})]})]})]}):null}let z="backgrounds",_=()=>new Promise((e,t)=>{let a=indexedDB.open("WBDS_STORAGE",1);a.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(z)||t.createObjectStore(z)},a.onsuccess=t=>e(t.target.result),a.onerror=e=>t(e.target.error)}),N=async(e,t)=>{let a=await _();return new Promise((n,r)=>{let o=a.transaction([z],"readwrite").objectStore(z).put(t,e);o.onsuccess=()=>n(),o.onerror=e=>r(e.target.error)})},S=async e=>{let t=await _();return new Promise((a,n)=>{let r=t.transaction([z],"readonly").objectStore(z).get(e);r.onsuccess=()=>a(r.result),r.onerror=e=>n(e.target.error)})};function I(e){let{onClose:t,isOpen:a,onToggle:i,letters:s=[],onOpenLetter:l,onShowSaved:c,currentView:d,triggerModal:p}=e,[x,b]=(0,o.useState)("void"),[m,y]=(0,o.useState)("serif"),[u,g]=(0,o.useState)("mechanical"),[h,w]=(0,o.useState)(!1),[k,v]=(0,o.useState)("space"),[j,z]=(0,o.useState)(!1),[_,I]=(0,o.useState)(!1),[C,E]=(0,o.useState)(""),[T,M]=(0,o.useState)(""),[A,D]=(0,o.useState)("Copy"),[R,L]=(0,o.useState)("medium"),[O,P]=(0,o.useState)(null),[B,W]=(0,o.useState)(null),[F,V]=(0,o.useState)(new Set),[G,q]=(0,o.useState)(!1),[J,U]=(0,o.useState)(null);(0,o.useEffect)(()=>{{let e=localStorage.getItem("wbds_pinned_letters");if(e)try{V(new Set(JSON.parse(e)))}catch(e){console.error("Failed to load pinned letters")}}},[]);let K=s.filter(e=>F.has(e.id));(0,o.useEffect)(()=>{(async()=>{{let e=localStorage.getItem("wbds_theme")||"void",t=localStorage.getItem("wbds_font")||"serif",a=localStorage.getItem("wbds_audio_profile")||"mechanical",n="true"===localStorage.getItem("wbds_ambience"),r=localStorage.getItem("wbds_ambience_profile")||"space",o=localStorage.getItem("wbds_font_size")||"medium";b(e),y(t),L(o),g(a),(0,f.GJ)(a),v(r),(0,f.A$)(r),w(n),document.documentElement.style.setProperty("--letter-font-size",{small:"14px",medium:"16px",large:"18px",xl:"20px"}[o]||"16px");let i=await S("wbds_custom_bg_desktop"),s=await S("wbds_custom_bg_mobile");i&&P(i),s&&W(s),document.documentElement.setAttribute("data-theme",e),document.documentElement.setAttribute("data-font",t),n&&setTimeout(()=>(0,f.Qf)(!0),1e3),f.Oi.requestState()}})();let e=e=>{let t=e.detail;q(t.isPlaying),U(t.station?{title:t.station.name}:null)};return f.Yo&&f.Yo.addEventListener("RADIO_STATE_UPDATE",e),()=>{f.Yo&&f.Yo.removeEventListener("RADIO_STATE_UPDATE",e)}},[]);let Y=async e=>{b(e),document.documentElement.setAttribute("data-theme",e),localStorage.setItem("wbds_theme",e),"custom"===e&&window.dispatchEvent(new Event("custom-bg-update")),window.dispatchEvent(new Event("storage"))},H=e=>{y(e),document.documentElement.setAttribute("data-font",e),localStorage.setItem("wbds_font",e)},Z=e=>{g(e),(0,f.GJ)(e),"silent"!==e&&(0,f.yu)(),localStorage.setItem("wbds_audio_profile",e)},X=(e,t)=>{let a=e.target.files[0];if(!a)return;if(a.size>10485760){p({isOpen:!0,type:"alert",title:"Limit Exceeded",message:"Image too large. Even for the void, 10MB is the limit for stability.",onConfirm:()=>p(e=>({...e,isOpen:!1}))});return}let n=new FileReader;n.onloadend=async()=>{let e=n.result;"desktop"===t?(P(e),await N("wbds_custom_bg_desktop",e)):(W(e),await N("wbds_custom_bg_mobile",e)),window.dispatchEvent(new Event("custom-bg-update"))},n.readAsDataURL(a)};return(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"panel-wrapper ".concat(a?"open":""),children:[(0,n.jsx)("button",{onClick:i,"aria-label":"Toggle Settings",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" sidebar-toggle",children:a?(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:[(0,n.jsx)("polyline",{points:"13 17 18 12 13 7",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])}),(0,n.jsx)("polyline",{points:"6 17 11 12 6 7",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])})]}):(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:[(0,n.jsx)("polyline",{points:"11 17 6 12 11 7",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])}),(0,n.jsx)("polyline",{points:"18 17 13 12 18 7",className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])})]})}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" panel-container",children:[(0,n.jsxs)("div",{style:{paddingBottom:"20px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:["Settings",(0,n.jsx)("button",{onClick:t,className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" mobile-close-btn",children:"✕"})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" setting-section",children:[(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" section-title",children:"Atmosphere"}),(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-grid",children:[{id:"void",label:"The Void",color:"#000000"},{id:"midnight",label:"Midnight",color:"#020817"},{id:"paper",label:"Paper",color:"#f2f0e9"},{id:"coffee-paper",label:"Coffee Paper",color:"#d9c2a3"},{id:"rose",label:"Rose",color:"#261010"},{id:"forest",label:"Forest",color:"#1a2f23"},{id:"coffee",label:"Coffee",color:"#2b211e"},{id:"nord",label:"Nord",color:"#2e3440"},{id:"dracula",label:"Dracula",color:"#282a36"},{id:"solarized",label:"Solarized",color:"#002b36"},{id:"cyberpunk",label:"Cyberpunk",color:"#111",border:"#fcee0c"},{id:"synthwave",label:"Synthwave",color:"#2b213a",border:"#ff71ce"},{id:"serika",label:"Serika",color:"#323437",border:"#e2b714"},{id:"carbon",label:"Carbon",color:"#313131",border:"#f66e0d"},{id:"8008",label:"8008",color:"#333a45",border:"#f44c7f"},{id:"red-dragon",label:"Red Dragon",color:"#1a0b0c",border:"#ff3a32"},{id:"terminal",label:"Terminal",color:"#0a0a0a",border:"#30d158",action:()=>H("typewriter")},{id:"neovim",label:"Neovim",color:"#282828",border:"#ebdbb2",action:()=>{H("fira"),Z("mechanical")}},{id:"notepad",label:"Notepad",color:"#c0c0c0",border:"#000",action:()=>{H("sans"),Z("typewriter")}},{id:"custom",label:"Custom",gradient:"linear-gradient(45deg, #ff00ff, #00ffff)"}].map(e=>(0,n.jsxs)("button",{onClick:()=>{Y(e.id),e.action&&e.action()},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat(x===e.id?"active":""),children:[(0,n.jsx)("div",{style:{background:e.gradient||e.color,border:e.border?"1px solid ".concat(e.border):"void"===e.id?"1px solid #333":"none"},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" preview-circle"}),e.label]},e.id))}),"custom"===x&&(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" custom-upload-section",children:[(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" upload-group",children:[(0,n.jsx)("label",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Desktop Image (1920x1080)"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>X(e,"desktop"),id:"desktop-upload",hidden:!0,className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])}),(0,n.jsx)("button",{onClick:()=>document.getElementById("desktop-upload").click(),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" upload-btn",children:O?"Change Desktop":"Upload Desktop"})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" upload-group",children:[(0,n.jsx)("label",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Mobile Image (Portrait)"}),(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>X(e,"mobile"),id:"mobile-upload",hidden:!0,className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])}),(0,n.jsx)("button",{onClick:()=>document.getElementById("mobile-upload").click(),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" upload-btn",children:B?"Change Mobile":"Upload Mobile"})]})]})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" setting-section",children:[(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" section-title",children:"Typography"}),(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-grid",children:[{id:"serif",label:"Serif",font:"serif"},{id:"sans",label:"Sans",font:"sans-serif"},{id:"mono",label:"Mono",font:"monospace"},{id:"inter",label:"Inter",font:"sans-serif",weight:600},{id:"playfair",label:"Playfair",font:"serif",italic:!0},{id:"merriweather",label:"Merriweather",font:"serif"},{id:"fira",label:"Fira Code",font:"Fira Code"},{id:"jetbrains",label:"JetBrains",font:"JetBrains Mono"},{id:"ibm_plex",label:"IBM Plex",font:"IBM Plex Mono"},{id:"roboto_mono",label:"Roboto Mono",font:"Roboto Mono"},{id:"source_code",label:"Source Code",font:"Source Code Pro"},{id:"lexend",label:"Lexend",font:"Lexend Deca"},{id:"montserrat",label:"Montserrat",font:"Montserrat"},{id:"nunito",label:"Nunito",font:"Nunito"},{id:"comfortaa",label:"Comfortaa",font:"Comfortaa"},{id:"courier_prime",label:"Courier Prime",font:"Courier Prime"},{id:"hand",label:"Hand",font:"cursive"},{id:"typewriter",label:"Typewriter",font:"Courier New"},{id:"dancing",label:"Dancing Script",font:"Dancing Script",size:"16px"},{id:"great_vibes",label:"Great Vibes",font:"Great Vibes",size:"18px"},{id:"alex_brush",label:"Alex Brush",font:"Alex Brush",size:"16px"},{id:"allura",label:"Allura",font:"Allura",size:"16px"},{id:"parisienne",label:"Parisienne",font:"Parisienne",size:"16px"}].map(e=>(0,n.jsxs)("button",{onClick:()=>H(e.id),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat(m===e.id?"active":""),children:[(0,n.jsx)("span",{style:{fontFamily:e.font,fontWeight:e.weight,fontStyle:e.italic?"italic":"normal",fontSize:e.size},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Aa"})," ",e.label]},e.id))}),(0,n.jsxs)("div",{style:{marginTop:16},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:[(0,n.jsx)("div",{style:{fontSize:12,color:"var(--text-secondary)",marginBottom:8},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Text Size"}),(0,n.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:[{id:"small",label:"S",size:"14px"},{id:"medium",label:"M",size:"16px"},{id:"large",label:"L",size:"18px"},{id:"xl",label:"XL",size:"20px"}].map(e=>(0,n.jsx)("button",{onClick:()=>{L(e.id),document.documentElement.style.setProperty("--letter-font-size",e.size),localStorage.setItem("wbds_font_size",e.id)},style:{minWidth:44,padding:"8px 12px"},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat(R===e.id?"active":""),children:(0,n.jsx)("span",{style:{fontSize:e.size},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:e.label})},e.id))})]})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" setting-section",children:[(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" section-title",children:["Saved (",K.length,")"]}),(0,n.jsxs)("button",{onClick:()=>{c&&c()},style:{width:"100%",padding:"14px 16px",borderColor:K.length>0?"#d4af37":void 0,display:"flex",alignItems:"center",gap:"10px"},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat("saved"===d?"active":""),children:[(0,n.jsx)("span",{style:{fontSize:18},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"\uD83D\uDCD6"}),(0,n.jsx)("span",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"View Saved Letters"}),K.length>0&&(0,n.jsx)("span",{style:{marginLeft:"auto",background:"#d4af37",color:"#000",padding:"2px 8px",borderRadius:10,fontSize:11,fontWeight:600},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:K.length})]})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" setting-section",children:[(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" section-title",children:"Tactile Sound"}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-grid",children:[(0,n.jsx)("button",{onClick:()=>Z("mechanical"),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat("mechanical"===u?"active":""),children:"Mechanical"}),(0,n.jsx)("button",{onClick:()=>Z("typewriter"),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat("typewriter"===u?"active":""),children:"Typewriter"}),(0,n.jsx)("button",{onClick:()=>Z("bubble"),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat("bubble"===u?"active":""),children:"Bubble"}),(0,n.jsx)("button",{onClick:()=>Z("silent"),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" "+"option-btn ".concat("silent"===u?"active":""),children:"Silent"})]})]}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" setting-section",children:[(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" section-title",children:"Data & Privacy"}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-grid",children:[(0,n.jsx)("button",{onClick:()=>{M(localStorage.getItem("wbds_owned")||"[]"),I(!0)},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-btn",children:"View & Copy Key"}),(0,n.jsx)("button",{onClick:()=>z(!0),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-btn",children:"Restore Backup"}),(0,n.jsx)("button",{style:{color:"#ff453a",borderColor:"rgba(255, 69, 58, 0.3)"},onClick:()=>{p({isOpen:!0,type:"confirm",title:"Wipe History",message:"Are you sure you want to clear your entire history? This cannot be undone.",onConfirm:()=>{localStorage.removeItem("wbds_owned"),window.location.reload()},onCancel:()=>p(e=>({...e,isOpen:!1}))})},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" option-btn",children:"Clear History"})]})]})]}),_&&(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-overlay",children:(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-card",children:[(0,n.jsx)("h3",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Your Encrypted Key"}),(0,n.jsx)("p",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Copy this code to save your history."}),(0,n.jsx)("textarea",{value:T,readOnly:!0,onClick:e=>e.target.select(),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" restore-input"}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-actions",children:[(0,n.jsx)("button",{onClick:()=>I(!1),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" btn-cancel",children:"Close"}),(0,n.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(T),D("Copied!"),setTimeout(()=>D("Copy"),2e3)},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" btn-confirm",children:A})]})]})}),j&&(0,n.jsx)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-overlay",children:(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-card",children:[(0,n.jsx)("h3",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Restore Backup"}),(0,n.jsx)("p",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]]),children:"Paste your Backup Key below."}),(0,n.jsx)("textarea",{value:C,onChange:e=>E(e.target.value),placeholder:'["123", "456"]...',className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" restore-input"}),(0,n.jsxs)("div",{className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" modal-actions",children:[(0,n.jsx)("button",{onClick:()=>z(!1),className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" btn-cancel",children:"Cancel"}),(0,n.jsx)("button",{onClick:()=>{if(C)try{let e=JSON.parse(C);Array.isArray(e)?(localStorage.setItem("wbds_owned",JSON.stringify(e)),window.location.reload()):p({isOpen:!0,type:"alert",title:"Invalid Key",message:"Invalid Key Format (Must be an array)",onConfirm:()=>p(e=>({...e,isOpen:!1}))})}catch(e){p({isOpen:!0,type:"alert",title:"Invalid Key",message:"Invalid Key Data",onConfirm:()=>p(e=>({...e,isOpen:!1}))})}},className:r.dynamic([["c69f6fbfcd8085e7",[a?"flex":"none"]]])+" btn-confirm",children:"Restore"})]})]})}),(0,n.jsx)(r,{id:"c69f6fbfcd8085e7",dynamic:[a?"flex":"none"],children:".panel-wrapper.__jsx-style-dynamic-selector{position:fixed;left:0;top:0;height:100vh;z-index:5000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;pointer-events:none}.panel-wrapper.open.__jsx-style-dynamic-selector .panel-container.__jsx-style-dynamic-selector{-webkit-transform:translatex(0);-moz-transform:translatex(0);-ms-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0);opacity:1;pointer-events:auto}.panel-container.__jsx-style-dynamic-selector{width:280px;padding:32px 24px;background:var(--bg-surface);border:1px solid var(--glass-border);max-height:85vh;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:32px;margin-left:40px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;-webkit-box-shadow:0 20px 50px rgba(0,0,0,.3);-moz-box-shadow:0 20px 50px rgba(0,0,0,.3);box-shadow:0 20px 50px rgba(0,0,0,.3);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);scrollbar-width:none;-webkit-transform:translatex(-400px);-moz-transform:translatex(-400px);-ms-transform:translatex(-400px);-o-transform:translatex(-400px);transform:translatex(-400px);opacity:0;-webkit-transition:-webkit-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;-moz-transition:-moz-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;-o-transition:-o-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;transition:-webkit-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;transition:-moz-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;transition:-o-transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease;transition:transform.4s cubic-bezier(.25,1,.5,1),opacity.3s ease}.sidebar-toggle.__jsx-style-dynamic-selector{position:fixed;left:10px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);background:transparent;border:none;color:#ff71ce;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;pointer-events:auto;z-index:5001}.panel-wrapper.open.__jsx-style-dynamic-selector .sidebar-toggle.__jsx-style-dynamic-selector{left:370px}.sidebar-toggle.__jsx-style-dynamic-selector:hover{color:#fff;-webkit-transform:translatey(-50%)scale(1.1);-moz-transform:translatey(-50%)scale(1.1);-ms-transform:translatey(-50%)scale(1.1);-o-transform:translatey(-50%)scale(1.1);transform:translatey(-50%)scale(1.1)}.section-title.__jsx-style-dynamic-selector{font-size:11px;text-transform:uppercase;letter-spacing:2px;color:var(--text-secondary);margin-bottom:12px;opacity:.7}.option-grid.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:8px}.option-btn.__jsx-style-dynamic-selector{background:transparent;border:1px solid transparent;color:var(--text-secondary);padding:10px 16px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;font-size:14px;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.option-btn.__jsx-style-dynamic-selector:hover{color:var(--text-primary);background:rgba(255,255,255,.03)}.option-btn.active.__jsx-style-dynamic-selector{color:var(--text-primary);background:rgba(255,255,255,.05);border-color:var(--glass-border)}.preview-circle.__jsx-style-dynamic-selector{width:12px;height:12px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%}.custom-upload-section.__jsx-style-dynamic-selector{margin-top:16px;padding:16px;background:rgba(255,255,255,.02);border:1px dashed var(--glass-border);-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:16px}.upload-group.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:6px}.upload-group.__jsx-style-dynamic-selector label.__jsx-style-dynamic-selector{font-size:10px;color:var(--text-secondary);text-transform:uppercase}.upload-btn.__jsx-style-dynamic-selector{background:rgba(255,255,255,.05);border:1px solid var(--glass-border);color:var(--text-primary);padding:8px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;font-size:12px;cursor:pointer}.modal-overlay.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.6);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:9999;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-card.__jsx-style-dynamic-selector{background:var(--bg-surface);border:1px solid var(--glass-border);padding:24px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;width:320px;text-align:center}.restore-input.__jsx-style-dynamic-selector{width:100%;height:80px;background:rgba(0,0,0,.2);border:1px solid var(--glass-border);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:12px;color:var(--text-primary);font-family:monospace;margin-bottom:20px;resize:none}.modal-actions.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:10px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.modal-actions.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{padding:8px 16px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;border:none;cursor:pointer;font-weight:600}.btn-confirm.__jsx-style-dynamic-selector{background:var(--text-primary);color:#000}.btn-cancel.__jsx-style-dynamic-selector{background:transparent;border:1px solid var(--glass-border)!important;color:var(--text-secondary)}.mobile-close-btn.__jsx-style-dynamic-selector{display:none}@media(max-width:768px){.mobile-close-btn.__jsx-style-dynamic-selector{display:block;background:none;border:none;color:var(--text-primary);font-size:20px}.panel-wrapper.__jsx-style-dynamic-selector{-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none;width:100%;display:".concat(a?"flex":"none",";-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;pointer-events:none}.panel-container.__jsx-style-dynamic-selector{position:relative;left:0;width:90%;pointer-events:auto}.sidebar-toggle.__jsx-style-dynamic-selector{display:none}}")})]})}function C(){let[e,t]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),[s,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(0);if((0,o.useEffect)(()=>{{"12"===localStorage.getItem("wbds_clock_format")&&i(!1),"true"===localStorage.getItem("wbds_muted")&&(l(!0),(0,f.GJ)("silent"));let e=localStorage.getItem("wbds_last_write_date"),t=parseInt(localStorage.getItem("wbds_streak")||"0");if(e){let a=new Date(e),n=Math.floor((new Date-a)/864e5);0===n?d(t):1===n?d(t):(d(0),localStorage.setItem("wbds_streak","0"))}}},[]),(0,o.useEffect)(()=>{let e=()=>{t(new Date),requestAnimationFrame(e)},a=requestAnimationFrame(e);return()=>cancelAnimationFrame(a)},[]),!e)return(0,n.jsx)("div",{className:"void-status-bar"});let p=e.getHours(),x="";a||(x=p>=12?" PM":" AM",p=p%12||12);let b=p.toString().padStart(2,"0"),m=e.getMinutes().toString().padStart(2,"0"),y=e.getSeconds().toString().padStart(2,"0"),u=e.getMilliseconds().toString().padStart(3,"0");return(0,n.jsxs)("div",{className:"jsx-b7421c20e450f8fa void-status-bar fade-in",children:[c>0&&(0,n.jsxs)("div",{title:"".concat(c," day streak of writing to the void"),className:"jsx-b7421c20e450f8fa streak",children:["\uD83D\uDD25 ",c]}),(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),l(e=>{let t=!e;if(localStorage.setItem("wbds_muted",t.toString()),t)(0,f.GJ)("silent");else{let e=localStorage.getItem("wbds_audio")||"mechanical";(0,f.GJ)(e)}return f.Oi.setMuted(t),t})},title:s?"Unmute sounds":"Mute sounds",className:"jsx-b7421c20e450f8fa "+"mute-btn ".concat(s?"muted":""),children:s?(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-b7421c20e450f8fa",children:[(0,n.jsx)("path",{d:"M11 5L6 9H2v6h4l5 4V5z",className:"jsx-b7421c20e450f8fa"}),(0,n.jsx)("line",{x1:"23",y1:"9",x2:"17",y2:"15",className:"jsx-b7421c20e450f8fa"}),(0,n.jsx)("line",{x1:"17",y1:"9",x2:"23",y2:"15",className:"jsx-b7421c20e450f8fa"})]}):(0,n.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-b7421c20e450f8fa",children:[(0,n.jsx)("path",{d:"M11 5L6 9H2v6h4l5 4V5z",className:"jsx-b7421c20e450f8fa"}),(0,n.jsx)("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07",className:"jsx-b7421c20e450f8fa"})]})}),(0,n.jsxs)("div",{onClick:()=>{i(e=>{let t=!e;return localStorage.setItem("wbds_clock_format",t?"24":"12"),t})},title:"Click to toggle 12/24 hour format",className:"jsx-b7421c20e450f8fa clock",children:[b,":",m,":",y,(0,n.jsxs)("span",{className:"jsx-b7421c20e450f8fa ms",children:[".",u]}),x&&(0,n.jsx)("span",{className:"jsx-b7421c20e450f8fa suffix",children:x})]}),(0,n.jsx)(r,{id:"b7421c20e450f8fa",children:'.void-status-bar.jsx-b7421c20e450f8fa{position:fixed;top:20px;right:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;z-index:100;opacity:.5;-webkit-transition:opacity.3s ease;-moz-transition:opacity.3s ease;-o-transition:opacity.3s ease;transition:opacity.3s ease}.void-status-bar.jsx-b7421c20e450f8fa:hover{opacity:1}.streak.jsx-b7421c20e450f8fa{font-size:14px;color:#ff9500;font-family:"JetBrains Mono",monospace;background:rgba(255,149,0,.1);padding:4px 10px;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;border:1px solid rgba(255,149,0,.2)}.mute-btn.jsx-b7421c20e450f8fa{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;padding:6px;cursor:pointer;color:var(--text-secondary);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease}.mute-btn.jsx-b7421c20e450f8fa:hover{background:rgba(255,255,255,.1);color:var(--text-primary)}.mute-btn.muted.jsx-b7421c20e450f8fa{color:#ff453a;border-color:rgba(255,69,58,.3)}.clock.jsx-b7421c20e450f8fa{font-family:"JetBrains Mono","Fira Code",monospace;font-size:18px;color:var(--text-secondary);letter-spacing:1px;font-variant-numeric:tabular-nums;text-shadow:0 0 10px rgba(0,0,0,.5);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.void-status-bar.jsx-b7421c20e450f8fa:hover .clock.jsx-b7421c20e450f8fa{color:var(--text-primary)}.ms.jsx-b7421c20e450f8fa{opacity:.5;font-size:13px;margin-left:4px}.suffix.jsx-b7421c20e450f8fa{opacity:.6;font-size:12px;margin-left:4px}.fade-in.jsx-b7421c20e450f8fa{-webkit-animation:fadeIn 1s ease;-moz-animation:fadeIn 1s ease;-o-animation:fadeIn 1s ease;animation:fadeIn 1s ease}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:.5}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:.5}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:.5}}@keyframes fadeIn{from{opacity:0}to{opacity:.5}}'})]})}a(6170);var E=a(2609),T=a(5118),M=a(5099),A=a(7359);(0,E.default)(()=>a.e(40).then(a.bind(a,3040)),{loadableGenerated:{webpack:()=>[require.resolveWeak("./Themes/EventHorizon")]},ssr:!1});let D=(0,E.default)(()=>a.e(946).then(a.bind(a,4946)),{loadableGenerated:{webpack:()=>[require.resolveWeak("./Themes/SolarCore")]},ssr:!1}),R=(0,E.default)(()=>a.e(127).then(a.bind(a,3127)),{loadableGenerated:{webpack:()=>[require.resolveWeak("./Themes/RetroGrid")]},ssr:!1});function L(){let e=(0,o.useRef)(null),[t,a]=(0,o.useState)("void"),[r,i]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{let e=()=>{let e=document.documentElement.getAttribute("data-theme")||"void";a(e),i(["void","solarized","synthwave"].includes(e))};e();let t=setInterval(e,500);return()=>clearInterval(t)},[]),(0,o.useEffect)(()=>{let a;if(!e.current||r)return;let n=e.current,o=n.getContext("2d"),i=window.innerWidth,s=window.innerHeight;n.width=i,n.height=s;let l=[],c={x:-1e3,y:-1e3,vx:0,vy:0},d={x:-1e3,y:-1e3},p=e=>{c.x=e.clientX,c.y=e.clientY,c.vx=(e.clientX-d.x)*.1,c.vy=(e.clientY-d.y)*.1,d.x=e.clientX,d.y=e.clientY};window.addEventListener("mousemove",p);let x=e=>{if(l=[],e.includes("paper")||"rose"===e){let t="rose"===e;for(let e=0;e<600;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:2.5*Math.random(),vx:(Math.random()-.5)*.2,vy:(Math.random()-.5)*.2,friction:.96,color:t?"rgba(100, 50, 50,":"rgba(80, 60, 50,",opacity:.5*Math.random()+.2,type:"paper_dust"})}else if("forest"===e||"nord"===e){let t="nord"===e;for(let e=0;e<500;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:3*Math.random(),vx:.5*Math.random()+.2,vy:(Math.random()-.5)*.2,phase:Math.random()*Math.PI*2,color:t?[136,192,208]:[255,255,150],type:"forest_pollen"})}else if("cyberpunk"===e||"terminal"===e){let t="terminal"===e;for(let e=0;e<800;e++)l.push({x:15*Math.floor(Math.random()*i/15),y:Math.random()*s,size:2*Math.random()+1,speed:8*Math.random()+4,color:t?[48,209,88]:[252,238,12],type:"digital_rain"})}else if("midnight"===e)for(let e=0;e<300;e++)l.push({x:Math.random()*i,y:.2*s+Math.random()*s*.4,width:100*Math.random()+50,height:200*Math.random()+100,phase:Math.random()*Math.PI*2,speed:.02*Math.random(),hue:180+60*Math.random(),type:"aurora"});else if("red-dragon"===e)for(let e=0;e<800;e++)l.push({x:Math.random()*i,y:s+100*Math.random(),size:4*Math.random()+2,speed:3*Math.random()+1,life:1,hue:40*Math.random(),type:"fire"});else if("coffee"===e)for(let e=0;e<400;e++)l.push({x:Math.random()*i,y:s+50*Math.random(),size:20*Math.random()+10,speed:.5*Math.random()+.2,opacity:.3*Math.random(),wobble:Math.random()*Math.PI*2,type:"steam"});else if("dracula"===e)for(let e=0;e<600;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:30*Math.random()+10,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,opacity:.15*Math.random(),type:"blood_mist"});else if("8008"===e)for(let e=0;e<100;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:30*Math.random()+10,vx:(Math.random()-.5)*.5,vy:-(.5*Math.random())-.2,hue:Math.random()>.5?330:180,opacity:.4,type:"neon_bubble"});else if("carbon"===e)for(let e=0;e<500;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:3*Math.random()+1,vx:(Math.random()-.5)*.5,vy:-(.8*Math.random()),life:Math.random(),type:"ember"});else if("serika"===e)for(let e=0;e<800;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:2*Math.random()+.5,vx:(Math.random()-.5)*.2,vy:.3*Math.random(),shimmer:Math.random()*Math.PI*2,type:"gold_dust"});else for(let e=0;e<1200;e++)l.push({x:Math.random()*i,y:Math.random()*s,size:2*Math.random(),baseSize:2*Math.random(),vx:(Math.random()-.5)*.1,vy:(Math.random()-.5)*.1,opacity:Math.random(),type:"space_star"})};x(t);let b=()=>{t.includes("paper")?(o.clearRect(0,0,i,s),o.globalCompositeOperation="multiply"):(o.globalCompositeOperation="source-over",o.fillStyle="forest"===t?"#1a2f23":"#050508",o.fillRect(0,0,i,s),o.globalCompositeOperation="lighter");let e=Date.now()/1e3;if(!t.includes("paper")&&"forest"!==t&&"nord"!==t&&!t.includes("cyberpunk")&&!t.includes("terminal")&&.02>Math.random()){let e=Math.random()*i+200,t=.5*s*Math.random()-200;l.push({x:e,y:t,len:80*Math.random()+50,speed:15*Math.random()+10,size:2*Math.random()+1,vx:-1,vy:1,life:1,type:"shooting_star"})}l.forEach((t,a)=>{let n=c.x-t.x,r=c.y-t.y,d=Math.sqrt(n*n+r*r);if("paper_dust"===t.type){if(d<250&&(Math.abs(c.vx)>.1||Math.abs(c.vy)>.1)){let e=(250-d)/250;t.vx+=c.vx*e*.05,t.vy+=c.vy*e*.05}t.x+=t.vx,t.y+=t.vy,t.vx*=t.friction,t.vy*=t.friction,t.x+=.2*Math.sin(e+.01*t.y)}else if("forest_pollen"===t.type){if(d<250){let e=(250-d)/250;t.x-=n/d*e*2,t.y-=r/d*e*2}t.x+=t.vx,t.y+=t.vy+.5*Math.sin(2*e+t.phase)}else if("digital_rain"===t.type)t.y+=t.speed,t.y>s&&(t.y=-10);else if("aurora"===t.type)t.phase+=t.speed,t.x+=.5*Math.sin(.5*e+t.phase);else if("fire"===t.type)t.y-=t.speed,t.x+=2*Math.sin(10*e+.1*t.y),t.life-=.01,(t.life<=0||t.y<0)&&(t.y=s+20,t.life=1,t.x=Math.random()*i);else if("steam"===t.type)t.y-=t.speed,t.x+=.5*Math.sin(e+t.wobble),t.opacity-=.001,(t.y<.3*s||t.opacity<=0)&&(t.y=s+20,t.opacity=.3);else if("blood_mist"===t.type)t.x+=t.vx+.3*Math.sin(e+.01*t.y),t.y+=t.vy,d<250&&(t.x+=n/d*.5,t.y+=r/d*.5);else if("neon_bubble"===t.type)t.x+=t.vx,t.y+=t.vy,d<t.size+50&&(t.y=s+50,t.x=Math.random()*i);else if("ember"===t.type)t.x+=t.vx,t.y+=t.vy,t.life-=.005,d<250&&(t.vx+=(Math.random()-.5)*.5,t.vy-=.5),(t.life<=0||t.y<0)&&(t.y=s,t.life=1,t.x=Math.random()*i);else if("gold_dust"===t.type)t.x+=t.vx,t.y+=t.vy,t.shimmer+=.1,d<250&&(t.x+=.01*n,t.y+=.01*r);else if("space_star"===t.type){let e=1;if(d<250){let a=(250-d)/250;t.x+=n/d*a*1.5,t.y+=r/d*a*1.5,e=1+2*a}t.x+=t.vx,t.y+=t.vy,t.renderSize=t.baseSize*e}else"shooting_star"===t.type&&(t.x+=t.vx*t.speed,t.y+=t.vy*t.speed,t.life-=.02);if("shooting_star"===t.type){if(t.life<=0||t.x<-200||t.y>s+200){l.splice(a,1);return}}else!["fire","steam","ember","aurora","grid_line_h","grid_line_v","synthwave_sun","sun_core"].includes(t.type)&&(t.x>i&&(t.x=0),t.x<0&&(t.x=i),t.y>s&&(t.y=0),t.y<0&&(t.y=s));if(o.beginPath(),"paper_dust"===t.type)o.arc(t.x,t.y,t.size,0,2*Math.PI),o.fillStyle=t.color+t.opacity+")",o.fill();else if("forest_pollen"===t.type){o.arc(t.x,t.y,t.size,0,2*Math.PI);let a=.5+.5*Math.sin(5*e+t.phase);o.fillStyle="rgba(".concat(t.color[0],", ").concat(t.color[1],", ").concat(t.color[2],", ").concat(a,")"),o.fill()}else if("digital_rain"===t.type)o.fillStyle="rgba(".concat(t.color[0],", ").concat(t.color[1],", ").concat(t.color[2],", 0.5)"),o.fillRect(t.x,t.y,2,5*t.size);else if("aurora"===t.type){let e=o.createLinearGradient(t.x,t.y,t.x,t.y+t.height);e.addColorStop(0,"hsla(".concat(t.hue,", 80%, 60%, 0)")),e.addColorStop(.5,"hsla(".concat(t.hue,", 80%, 60%, 0.15)")),e.addColorStop(1,"hsla(".concat(t.hue,", 80%, 60%, 0)")),o.fillStyle=e,o.fillRect(t.x,t.y,t.width,t.height)}else if("fire"===t.type){let e=o.createRadialGradient(t.x,t.y,0,t.x,t.y,t.size);e.addColorStop(0,"hsla(".concat(t.hue,", 100%, 60%, ").concat(t.life,")")),e.addColorStop(1,"transparent"),o.fillStyle=e,o.arc(t.x,t.y,t.size,0,2*Math.PI),o.fill()}else if("steam"===t.type)o.arc(t.x,t.y,t.size,0,2*Math.PI),o.fillStyle="rgba(200, 180, 160, ".concat(t.opacity,")"),o.fill();else if("blood_mist"===t.type)o.arc(t.x,t.y,t.size,0,2*Math.PI),o.fillStyle="rgba(150, 40, 60, ".concat(t.opacity,")"),o.fill();else if("neon_bubble"===t.type)o.arc(t.x,t.y,t.size,0,2*Math.PI),o.strokeStyle="hsla(".concat(t.hue,", 100%, 70%, ").concat(t.opacity,")"),o.lineWidth=2,o.stroke();else if("ember"===t.type)o.arc(t.x,t.y,t.size,0,2*Math.PI),o.fillStyle="rgba(255, ".concat(100+100*t.life,", 50, ").concat(t.life,")"),o.fill();else if("gold_dust"===t.type){o.arc(t.x,t.y,t.size,0,2*Math.PI);let e=.3+.3*Math.sin(t.shimmer);o.fillStyle="rgba(226, 183, 20, ".concat(e,")"),o.fill()}else if("space_star"===t.type){o.arc(t.x,t.y,t.renderSize||t.size,0,2*Math.PI);let e=t.opacity;t.renderSize>1.5*t.baseSize?(e=Math.min(1,e+.3),o.shadowBlur=10,o.shadowColor="white"):o.shadowBlur=0,o.fillStyle="rgba(200, 220, 255, ".concat(e,")"),o.fill(),o.shadowBlur=0}else if("shooting_star"===t.type){let e=t.x-t.vx*t.len,a=t.y-t.vy*t.len,n=o.createLinearGradient(t.x,t.y,e,a);n.addColorStop(0,"rgba(255, 255, 255, ".concat(t.life,")")),n.addColorStop(1,"rgba(255, 255, 255, 0)"),o.strokeStyle=n,o.lineWidth=t.size,o.lineCap="round",o.moveTo(t.x,t.y),o.lineTo(e,a),o.stroke()}}),a=requestAnimationFrame(b)};b();let m=()=>{i=window.innerWidth,s=window.innerHeight,n.width=i,n.height=s,x(t)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m),window.removeEventListener("mousemove",p),cancelAnimationFrame(a)}},[t,r]),r){let e=window.innerWidth<768?9:5;return(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:-1,background:"synthwave"===t?"#05000a":"#000000"},children:(0,n.jsxs)(T.Xz,{camera:{position:[0,0,e],fov:75},gl:{alpha:!1,antialias:!0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},onCreated:e=>{let{gl:t}=e;t.domElement.addEventListener("webglcontextlost",e=>{e.preventDefault(),console.warn("Context Lost: Attempting recovery...")},!1)},children:[(0,n.jsx)("color",{attach:"background",args:["synthwave"===t?"#020005":"#000000"]}),(0,n.jsx)(M.c,{makeDefault:!0,position:[0,0,e]}),(0,n.jsx)("ambientLight",{intensity:.4}),"solarized"===t&&(0,n.jsx)(D,{}),"synthwave"===t&&(0,n.jsx)(R,{}),"synthwave"!==t&&(0,n.jsx)(A.t,{radius:150,depth:100,count:2e3,factor:4,saturation:0,fade:!0,speed:.3})]},t)})}return(0,n.jsx)("canvas",{ref:e,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,pointerEvents:"none"}})}function O(e){let{onSettingsClick:t,isSettingsOpen:a,letterCount:i}=e,[s,l]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=()=>{let e=document.activeElement;l(e&&("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable))};window.addEventListener("focusin",e),window.addEventListener("focusout",e);let t=()=>{if(window.visualViewport){var e,t;window.visualViewport.height/window.screen.height<.7?l(!0):(null===(e=document.activeElement)||void 0===e?void 0:e.tagName)!=="INPUT"&&(null===(t=document.activeElement)||void 0===t?void 0:t.tagName)!=="TEXTAREA"&&l(!1)}};return window.visualViewport&&window.visualViewport.addEventListener("resize",t),()=>{window.removeEventListener("focusin",e),window.removeEventListener("focusout",e),window.visualViewport&&window.visualViewport.removeEventListener("resize",t)}},[]),s)?null:(0,n.jsxs)("footer",{className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" std-footer",children:[(0,n.jsxs)("div",{className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" void-pulse",children:[(0,n.jsx)("span",{className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" pulse-dot"}),(null==i?void 0:i.toLocaleString())||"..."," WBDS"]}),(0,n.jsxs)("div",{className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" footer-links",children:[(0,n.jsx)("a",{href:"/report",className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]]),children:"REPORT A BUG"}),(0,n.jsx)("a",{href:"/about",className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]]),children:"ABOUT"}),(0,n.jsx)("a",{href:"/donate",className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" donate-link",children:(0,n.jsx)("strong",{className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]]),children:"DONATE"})}),(0,n.jsx)("button",{onClick:t,className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]])+" footer-settings-btn",children:"SETTINGS"}),(0,n.jsx)("a",{href:"/legal",className:r.dynamic([["2fcdc072af272cf0",[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4]]]),children:"LEGAL"})]}),(0,n.jsx)(r,{id:"2fcdc072af272cf0",dynamic:[a?1:.7,a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)",a?.7:.4],children:".std-footer.__jsx-style-dynamic-selector{position:fixed;bottom:20px;left:0;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:12px;z-index:10000;pointer-events:none;-ms-touch-action:-ms-none;-ms-touch-action:none;touch-action:none;-webkit-transition:opacity.2s ease;-moz-transition:opacity.2s ease;-o-transition:opacity.2s ease;transition:opacity.2s ease}.void-pulse.__jsx-style-dynamic-selector{font-size:12px;color:var(--text-secondary);font-family:var(--font-mono,monospace);text-transform:uppercase;letter-spacing:.1em;opacity:.5;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:8px;background:rgba(10,10,10,.2);padding:4px 12px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;pointer-events:auto}.pulse-dot.__jsx-style-dynamic-selector{width:4px;height:4px;background:var(--accent-gold,#ffd700);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 0 8px var(--accent-gold);-moz-box-shadow:0 0 8px var(--accent-gold);box-shadow:0 0 8px var(--accent-gold);-webkit-animation:blink 2s infinite;-moz-animation:blink 2s infinite;-o-animation:blink 2s infinite;animation:blink 2s infinite}@-webkit-keyframes blink{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.4;-webkit-transform:scale(1.1);transform:scale(1.1)}}@-moz-keyframes blink{0%,100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}50%{opacity:.4;-moz-transform:scale(1.1);transform:scale(1.1)}}@-o-keyframes blink{0%,100%{opacity:1;-o-transform:scale(1);transform:scale(1)}50%{opacity:.4;-o-transform:scale(1.1);transform:scale(1.1)}}@keyframes blink{0%,100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:.4;-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}}.footer-links.__jsx-style-dynamic-selector{background:rgba(10,10,10,.3);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);padding:6px 18px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:0;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;border:1px solid rgba(255,255,255,.03);pointer-events:auto;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease}.footer-links.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:not(:last-child){margin-right:18px}.footer-settings-btn.__jsx-style-dynamic-selector{margin-right:0}.footer-links.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:last-child{margin-right:0}.footer-links.__jsx-style-dynamic-selector>*.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:100%}.footer-links.__jsx-style-dynamic-selector:hover{background:rgba(20,20,20,.5);border-color:rgba(255,255,255,.08)}a.__jsx-style-dynamic-selector,.footer-settings-btn.__jsx-style-dynamic-selector{color:var(--text-secondary,#8e8e93);text-decoration:none;font-size:13px;font-weight:500;letter-spacing:1px;text-transform:uppercase;-webkit-transition:color.2s ease;-moz-transition:color.2s ease;-o-transition:color.2s ease;transition:color.2s ease;font-family:-apple-system,BlinkMacSystemFont,sans-serif;opacity:.7;padding:0;margin:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1;height:auto}.footer-settings-btn.__jsx-style-dynamic-selector{background:none;border:none;cursor:pointer}a.__jsx-style-dynamic-selector:hover,.footer-settings-btn.__jsx-style-dynamic-selector:hover{color:var(--text-primary,#fff)}.footer-settings-btn.__jsx-style-dynamic-selector{display:none!important}@media(max-width:768px){.footer-settings-btn.__jsx-style-dynamic-selector{display:block!important;margin-right:18px;opacity:".concat(a?1:.7,";color:").concat(a?"var(--text-primary, #fff)":"var(--text-secondary, #8e8e93)","}.std-footer.__jsx-style-dynamic-selector{position:fixed;width:100%;bottom:20px;left:0;margin:0;pointer-events:none}.footer-links.__jsx-style-dynamic-selector{background:transparent!important;border:none!important;-webkit-backdrop-filter:none;backdrop-filter:none;padding:0;gap:0;pointer-events:auto}.footer-links.__jsx-style-dynamic-selector:hover{background:transparent!important;border:none!important}.footer-links.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:not(:last-child),.footer-links.__jsx-style-dynamic-selector .footer-settings-btn.__jsx-style-dynamic-selector{margin-right:18px}.footer-links.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector:last-child{margin-right:0}a.__jsx-style-dynamic-selector,.footer-settings-btn.__jsx-style-dynamic-selector{font-family:var(--font-mono);font-size:12px;opacity:.4;letter-spacing:1px;padding:10px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1;margin:0;height:auto}.footer-settings-btn.__jsx-style-dynamic-selector{opacity:").concat(a?.7:.4,"}}")})]})}let P=["Write about the one who got away...","Let that frustration out from your chest.","The void is listening. What are you hiding?","Do you miss them? Tell us why.","Describe the color of your current mood.","What would you say if you knew they'd never read it?","A secret you've never told anyone...","Why are you still holding on?","What does your silence sound like?","The person you were 5 years ago... what do they need to hear?"];function B(){let[e,t]=(0,o.useState)(""),[a,i]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=localStorage.getItem("wbds_last_whisper"),a=new Date().toDateString();if(e!==a){t(P[Math.floor(Math.random()*P.length)]);let e=setTimeout(()=>{i(!0),localStorage.setItem("wbds_last_whisper",a)},3e3);return()=>clearTimeout(e)}},[]),a)?(0,n.jsxs)("div",{onClick:()=>i(!1),className:"jsx-ff0c511815e2ae3b void-whisper-overlay",children:[(0,n.jsxs)("div",{className:"jsx-ff0c511815e2ae3b whisper-card animate-float-up",children:[(0,n.jsxs)("div",{className:"jsx-ff0c511815e2ae3b whisper-header",children:[(0,n.jsx)("span",{className:"jsx-ff0c511815e2ae3b whisper-icon",children:"\uD83D\uDCAD"}),(0,n.jsx)("span",{className:"jsx-ff0c511815e2ae3b whisper-label",children:"Whisper from the Void"})]}),(0,n.jsxs)("p",{className:"jsx-ff0c511815e2ae3b whisper-text",children:['"',e,'"']}),(0,n.jsx)("div",{className:"jsx-ff0c511815e2ae3b whisper-hint",children:"Click to dismiss"})]}),(0,n.jsx)(r,{id:"ff0c511815e2ae3b",children:".void-whisper-overlay.jsx-ff0c511815e2ae3b{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.4);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:100000;cursor:pointer}.whisper-card.jsx-ff0c511815e2ae3b{background:rgba(15,15,15,.9);border:1px solid rgba(255,255,255,.1);padding:32px;-webkit-border-radius:24px;-moz-border-radius:24px;border-radius:24px;max-width:400px;width:90%;text-align:center;-webkit-box-shadow:0 20px 50px rgba(0,0,0,.8),0 0 20px rgba(255,255,255,.05);-moz-box-shadow:0 20px 50px rgba(0,0,0,.8),0 0 20px rgba(255,255,255,.05);box-shadow:0 20px 50px rgba(0,0,0,.8),0 0 20px rgba(255,255,255,.05)}.whisper-header.jsx-ff0c511815e2ae3b{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;gap:8px;margin-bottom:20px;opacity:.6}.whisper-label.jsx-ff0c511815e2ae3b{font-size:12px;letter-spacing:2px;text-transform:uppercase;font-weight:600}.whisper-text.jsx-ff0c511815e2ae3b{font-size:20px;line-height:1.6;color:white;font-style:italic;margin:0 0 24px 0;font-family:var(--font-serif)}.whisper-hint.jsx-ff0c511815e2ae3b{font-size:10px;opacity:.3;letter-spacing:1px}.animate-float-up.jsx-ff0c511815e2ae3b{-webkit-animation:float-up.8s cubic-bezier(.16,1,.3,1);-moz-animation:float-up.8s cubic-bezier(.16,1,.3,1);-o-animation:float-up.8s cubic-bezier(.16,1,.3,1);animation:float-up.8s cubic-bezier(.16,1,.3,1)}@-webkit-keyframes float-up{from{opacity:0;-webkit-transform:translatey(40px)scale(.95);transform:translatey(40px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes float-up{from{opacity:0;-moz-transform:translatey(40px)scale(.95);transform:translatey(40px)scale(.95)}to{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes float-up{from{opacity:0;-o-transform:translatey(40px)scale(.95);transform:translatey(40px)scale(.95)}to{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes float-up{from{opacity:0;-webkit-transform:translatey(40px)scale(.95);-moz-transform:translatey(40px)scale(.95);-o-transform:translatey(40px)scale(.95);transform:translatey(40px)scale(.95)}to{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}"})]}):null}function W(e){let{theme:t}=e,[a,i]=(0,o.useState)(null),[s,l]=(0,o.useState)(null);return((0,o.useEffect)(()=>{let e=async()=>{if("custom"!==t)return;let e=await S("wbds_custom_bg_desktop"),a=await S("wbds_custom_bg_mobile");i(e),l(a)};e();let a=()=>e();return window.addEventListener("custom-bg-update",a),()=>window.removeEventListener("custom-bg-update",a)},[t]),"custom"!==t)?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{backgroundImage:a?'url("'.concat(a,'")'):"none"},className:"jsx-dd77ea4122d9ea92 custom-wallpaper-layer desktop-bg"}),(0,n.jsx)("div",{style:{backgroundImage:s?'url("'.concat(s,'")'):"none"},className:"jsx-dd77ea4122d9ea92 custom-wallpaper-layer mobile-bg"}),(0,n.jsx)(r,{id:"dd77ea4122d9ea92",children:".custom-wallpaper-layer.jsx-dd77ea4122d9ea92{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-5;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#000;pointer-events:none}@media(min-width:769px){.desktop-bg.jsx-dd77ea4122d9ea92{display:block;background-attachment:fixed}.mobile-bg.jsx-dd77ea4122d9ea92{display:none}}@media(max-width:768px){.desktop-bg.jsx-dd77ea4122d9ea92{display:none}.mobile-bg.jsx-dd77ea4122d9ea92{display:block;background-attachment:scroll}}"})]})}function F(e){let{isOpen:t,type:a="alert",title:i,message:s,placeholder:l="Type here...",onConfirm:c,onCancel:d,defaultValue:p=""}=e,[x,b]=(0,o.useState)(p),m=(0,o.useRef)(null);if((0,o.useEffect)(()=>{t&&(b(p),"prompt"===a&&setTimeout(()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.focus()},100))},[t,a,p]),!t)return null;let f=()=>{"prompt"===a?c(x):c()};return(0,n.jsxs)("div",{onClick:d,className:"jsx-c13af2f025b24525 void-modal-overlay",children:[(0,n.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-c13af2f025b24525 void-modal-card",children:[i&&(0,n.jsx)("h3",{className:"jsx-c13af2f025b24525 modal-title",children:i}),s&&(0,n.jsx)("p",{className:"jsx-c13af2f025b24525 modal-message",children:s}),"prompt"===a&&(0,n.jsx)("div",{className:"jsx-c13af2f025b24525 input-wrapper",children:(0,n.jsx)("input",{ref:m,type:"text",value:x,onChange:e=>b(e.target.value),onKeyDown:e=>{"Enter"===e.key&&f(),"Escape"===e.key&&d()},placeholder:l,autoComplete:"off",className:"jsx-c13af2f025b24525 modal-input"})}),(0,n.jsxs)("div",{className:"jsx-c13af2f025b24525 modal-actions",children:[("confirm"===a||"prompt"===a)&&(0,n.jsx)("button",{onClick:d,className:"jsx-c13af2f025b24525 btn-cancel",children:"CANCEL"}),(0,n.jsx)("button",{onClick:f,className:"jsx-c13af2f025b24525 btn-confirm",children:"alert"===a?"OK":"CONFIRM"})]})]}),(0,n.jsx)(r,{id:"c13af2f025b24525",children:".void-modal-overlay.jsx-c13af2f025b24525{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:99999;-webkit-animation:fadeIn.3s ease;-moz-animation:fadeIn.3s ease;-o-animation:fadeIn.3s ease;animation:fadeIn.3s ease}.void-modal-card.jsx-c13af2f025b24525{background:rgba(20,20,20,.6);backdrop-filter:blur(40px);-webkit-backdrop-filter:blur(40px);border:1px solid rgba(255,255,255,.08);-webkit-border-radius:32px;-moz-border-radius:32px;border-radius:32px;padding:40px;width:90%;max-width:420px;-webkit-box-shadow:0 40px 100px rgba(0,0,0,.6);-moz-box-shadow:0 40px 100px rgba(0,0,0,.6);box-shadow:0 40px 100px rgba(0,0,0,.6);-webkit-animation:scaleUp.4s cubic-bezier(.16,1,.3,1);-moz-animation:scaleUp.4s cubic-bezier(.16,1,.3,1);-o-animation:scaleUp.4s cubic-bezier(.16,1,.3,1);animation:scaleUp.4s cubic-bezier(.16,1,.3,1);text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.modal-title.jsx-c13af2f025b24525{margin:0 0 16px 0;font-size:18px;font-weight:700;color:white;letter-spacing:2px;text-transform:uppercase}.modal-message.jsx-c13af2f025b24525{font-size:14px;color:rgba(255,255,255,.6);margin:0 0 32px 0;line-height:1.6;max-width:300px}.input-wrapper.jsx-c13af2f025b24525{width:100%;position:relative;margin-bottom:32px}.modal-input.jsx-c13af2f025b24525{width:100%;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.1);-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:16px;color:white;font-size:15px;outline:none;text-align:center;-webkit-transition:all.3s ease;-moz-transition:all.3s ease;-o-transition:all.3s ease;transition:all.3s ease;font-family:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.modal-input.jsx-c13af2f025b24525:focus{background:rgba(255,255,255,.05);border-color:rgba(255,255,255,.3);-webkit-box-shadow:0 0 20px rgba(255,255,255,.05);-moz-box-shadow:0 0 20px rgba(255,255,255,.05);box-shadow:0 0 20px rgba(255,255,255,.05)}.modal-input.jsx-c13af2f025b24525::-webkit-input-placeholder{color:rgba(255,255,255,.2)}.modal-input.jsx-c13af2f025b24525:-moz-placeholder{color:rgba(255,255,255,.2)}.modal-input.jsx-c13af2f025b24525::-moz-placeholder{color:rgba(255,255,255,.2)}.modal-input.jsx-c13af2f025b24525:-ms-input-placeholder{color:rgba(255,255,255,.2)}.modal-input.jsx-c13af2f025b24525::-ms-input-placeholder{color:rgba(255,255,255,.2)}.modal-input.jsx-c13af2f025b24525::placeholder{color:rgba(255,255,255,.2)}.modal-actions.jsx-c13af2f025b24525{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.btn-confirm.jsx-c13af2f025b24525,.btn-cancel.jsx-c13af2f025b24525{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;max-width:140px;padding:14px;-webkit-border-radius:99px;-moz-border-radius:99px;border-radius:99px;font-size:12px;font-weight:800;letter-spacing:1.5px;cursor:pointer;-webkit-transition:all.3s cubic-bezier(.4,0,.2,1);-moz-transition:all.3s cubic-bezier(.4,0,.2,1);-o-transition:all.3s cubic-bezier(.4,0,.2,1);transition:all.3s cubic-bezier(.4,0,.2,1);text-transform:uppercase;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap}.btn-confirm.jsx-c13af2f025b24525{background:white;color:black;border:1px solid white}.btn-confirm.jsx-c13af2f025b24525:hover{-webkit-transform:translatey(-2px);-moz-transform:translatey(-2px);-ms-transform:translatey(-2px);-o-transform:translatey(-2px);transform:translatey(-2px);-webkit-box-shadow:0 8px 24px rgba(255,255,255,.2);-moz-box-shadow:0 8px 24px rgba(255,255,255,.2);box-shadow:0 8px 24px rgba(255,255,255,.2)}.btn-cancel.jsx-c13af2f025b24525{background:rgba(255,255,255,.05);color:rgba(255,255,255,.5);border:1px solid rgba(255,255,255,.1)}.btn-cancel.jsx-c13af2f025b24525:hover{background:rgba(255,255,255,.1);color:white;border-color:rgba(255,255,255,.2)}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes scaleUp{from{-webkit-transform:scale(.9)translatey(20px);transform:scale(.9)translatey(20px);opacity:0}to{-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0);opacity:1}}@-moz-keyframes scaleUp{from{-moz-transform:scale(.9)translatey(20px);transform:scale(.9)translatey(20px);opacity:0}to{-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0);opacity:1}}@-o-keyframes scaleUp{from{-o-transform:scale(.9)translatey(20px);transform:scale(.9)translatey(20px);opacity:0}to{-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);opacity:1}}@keyframes scaleUp{from{-webkit-transform:scale(.9)translatey(20px);-moz-transform:scale(.9)translatey(20px);-o-transform:scale(.9)translatey(20px);transform:scale(.9)translatey(20px);opacity:0}to{-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0);opacity:1}}@media(max-width:480px){.void-modal-card.jsx-c13af2f025b24525{padding:32px 24px}.btn-confirm.jsx-c13af2f025b24525,.btn-cancel.jsx-c13af2f025b24525{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;padding:12px 8px}}"})]})}(0,E.default)(()=>a.e(502).then(a.bind(a,1502)),{loadableGenerated:{webpack:()=>[require.resolveWeak("next/link")]},ssr:!1});let V=(0,E.default)(()=>a.e(103).then(a.bind(a,9103)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../components/Chain/GlobalGraph")]},ssr:!1,loading:()=>(0,n.jsx)("div",{style:{color:"#333"},children:"Loading Chain..."})});function G(){let[e,t]=(0,o.useState)([]),[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(null),[d,p]=(0,o.useState)(null),[x,b]=(0,o.useState)(!0),[m,f]=(0,o.useState)(!0),y=(0,o.useRef)(null),[u,h]=(0,o.useState)("write"),[z,_]=(0,o.useState)(new Set),[N,S]=(0,o.useState)(new Set),[E,T]=(0,o.useState)(null),[M,A]=(0,o.useState)(!1),[D,R]=(0,o.useState)(0),[P,G]=(0,o.useState)(null),[q,J]=(0,o.useState)("paper"),[U,K]=(0,o.useState)(!0),[Y,H]=(0,o.useState)(0),[Z,X]=(0,o.useState)(!1),[$,Q]=(0,o.useState)(!1),[ee,et]=(0,o.useState)(null),[ea,en]=(0,o.useState)({isOpen:!1,type:"alert",title:"",message:"",onConfirm:()=>{},onCancel:()=>{}});(0,o.useEffect)(()=>{let e=e=>{if(e.altKey&&"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!e.target.isContentEditable)switch(e.key.toLowerCase()){case"w":e.preventDefault(),h("write");break;case"r":e.preventDefault(),h("read");break;case"a":e.preventDefault(),h("best");break;case"f":e.preventDefault(),h("chain");break;case"y":e.preventDefault(),h("personal");break;case"e":e.preventDefault(),f(e=>!e);break;case"/":e.preventDefault(),X(e=>!e)}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,o.useEffect)(()=>{let e=setTimeout(()=>{K(!1)},2200);return()=>clearTimeout(e)},[]),(0,o.useEffect)(()=>{if("undefined"!=typeof document){let e=localStorage.getItem("wbds_theme");J(document.documentElement.getAttribute("data-theme")||e||"paper")}let e=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"data-theme"===e.attributeName&&J(document.documentElement.getAttribute("data-theme")||"paper")})});return"undefined"!=typeof document&&e.observe(document.documentElement,{attributes:!0}),()=>e.disconnect()},[]);let er=async()=>{if(!E)return;let e=(0,i.S)();if(!e){s({type:"error",message:"Connection Error"});return}let{error:a}=await e.from("letters").delete().eq("id",E);a?eo("Could not burn letter. It refuses to die."):(t(e=>e.filter(e=>e.id!==E)),S(e=>{let t=new Set(e);return t.delete(E),t}),s({message:"Letter burned to ash.",type:"success"})),T(null)};(0,o.useEffect)(()=>{let e=()=>{let e=window.innerWidth>900;b(e),e||f(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{let e=e=>{m&&y.current&&!y.current.contains(e.target)&&f(!1)},t=e=>{"Escape"===e.key&&f(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[m]),(0,o.useEffect)(()=>{S(new Set(JSON.parse(localStorage.getItem("wbds_owned")||"[]").filter(e=>e&&"object"!=typeof e&&"NaN"!==e))),_(new Set(JSON.parse(localStorage.getItem("wbds_likes")||"[]")))},[]),(0,o.useEffect)(()=>{N.size>0&&localStorage.setItem("wbds_owned",JSON.stringify([...N]))},[N]),(0,o.useEffect)(()=>{localStorage.setItem("wbds_likes",JSON.stringify([...z]))},[z]),(0,o.useEffect)(()=>{let e=async e=>{if(e.shiftKey&&e.altKey&&"KeyA"===e.code){en({isOpen:!0,type:"prompt",title:"The void requires a key",message:"Enter your administrator secret to unlock moderation tools.",placeholder:"Secret Passcode...",onConfirm:async e=>{try{let t=await fetch("/api/admin/auth",{method:"POST",body:JSON.stringify({password:e})});(await t.json()).success?(Q(!0),et(e),s({message:"The gate is open. Admin Mode Active.",type:"success"})):s({message:"The void rejects your key.",type:"error"})}catch(e){console.error("Auth Error:",e)}finally{en(e=>({...e,isOpen:!1}))}},onCancel:()=>en(e=>({...e,isOpen:!1}))});return}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,o.useEffect)(()=>{(async()=>{let e;let a=(0,i.S)();if(!a){console.warn("Supabase client not initialized. Skipping fetchLetters.");return}if("best"===u)try{let t=await fetch("/api/letters/best");if((e=await t.json()).error)throw Error(e.error)}catch(e){}else{let t="chain"===u||"personal"===u?500:50,n=await a.from("letters").select("*").order("created_at",{ascending:!1}).limit(t);e=n.data,n.error}e&&t(e.map(e=>({...e,timestamp:e.created_at})))})()},[u]),(0,o.useEffect)(()=>{let e=(0,i.S)();if(!e)return;(async()=>{let{count:t}=await e.from("letters").select("*",{count:"exact",head:!0});null!==t&&R(t)})();let a=e.channel("public:letters").on("postgres_changes",{event:"INSERT",schema:"public",table:"letters"},e=>{R(e=>e+1),"read"===u&&t(t=>t.some(t=>t.id===e.new.id)?t:[{...e.new,timestamp:e.new.created_at},...t].slice(0,100))}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"letters"},e=>{t(t=>t.map(t=>t.id===e.new.id?{...t,...e.new}:t))}).subscribe();return()=>{e.removeChannel(a)}},[u]);let eo=e=>{s({message:e,type:"error"})},ei=async function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"unknown",r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=localStorage.getItem("wbds_last_sent");if(o&&Date.now()-parseInt(o)<1e4){eo("You're writing too fast. Take a deep breath.");return}try{let o=await fetch("/api/letters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e,theme:q||"default",font:"undefined"!=typeof document&&document.documentElement.getAttribute("data-font")||"sans",unlockAt:t?t.toISOString():null,tags:a,recipient_type:n,forced:r})}),i=await o.json();if(!o.ok)return eo(i.message||i.error||"The Void rejected your letter."),{error:!0,message:i.message||i.error};if(i.guidance_needed&&!r)return i;let s=i.letter.id;S(e=>new Set(e).add(s)),localStorage.setItem("wbds_last_sent",Date.now());let l=new Date().toDateString(),c=localStorage.getItem("wbds_last_write_date"),d=parseInt(localStorage.getItem("wbds_streak")||"0");if(c!==l){let e=new Date(Date.now()-864e5).toDateString();localStorage.setItem("wbds_streak",(c!==e&&c?1:d+1).toString()),localStorage.setItem("wbds_last_write_date",l)}return setTimeout(()=>{h("read")},100),i}catch(e){return eo("Connection lost. The Void is unreachable."),{error:!0}}},es=async(e,t)=>{try{if((await fetch("/api/letters/report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({letterId:e,reason:t})})).ok)s({message:"Report submitted. Thank you for keeping WBDS safe.",type:"success"});else throw Error("Failed to report")}catch(n){let a=JSON.parse(localStorage.getItem("wbds_reports")||"[]");a.push({letterId:e,reason:t,timestamp:Date.now()}),localStorage.setItem("wbds_reports",JSON.stringify(a)),s({message:"Report recorded. Thank you.",type:"success"})}},el=async e=>{let a=z.has(e),n=a?-1:1;_(t=>{let n=new Set(t);return a?n.delete(e):n.add(e),n}),t(t=>t.map(t=>t.id===e?{...t,likes:(t.likes||0)+n}:t));try{let t=await fetch("/api/letters/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({letter_id:e})}),a=await t.json();if(!t.ok)throw Error(a.error);_(t=>{let n=new Set(t);return a.liked?(n.add(e),s({message:"Letter Liked.",type:"success"})):(n.delete(e),s({message:"Like removed.",type:"info"})),n})}catch(r){eo("Like failed. The void is indifferent."),_(t=>{let n=new Set(t);return a?n.add(e):n.delete(e),n}),t(t=>t.map(t=>t.id===e?{...t,likes:(t.likes||0)-n}:t))}};(0,o.useEffect)(()=>{let e=localStorage.getItem("wbds_last_bottle");e&&H(parseInt(e))},[]);let ec=async()=>{let e=Date.now();if(e-Y<864e5){let t=864e5-(e-Y);s({message:"The sea is empty. Try again in ".concat(Math.ceil(t/36e5),"h."),type:"info"});return}try{let t=await fetch("/api/letters/bottle"),a=await t.json();a.letter?(c(a.letter),localStorage.setItem("wbds_last_bottle",e.toString()),H(e),s({message:"A bottle drifted from the void...",type:"success"})):eo("The bottle was empty.")}catch(e){eo("The sea is too rough right now.")}};return(0,n.jsxs)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" app-layout",children:[(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"#000000",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,pointerEvents:U?"auto":"none",transition:"opacity 0.8s ease-out",opacity:U?1:0},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"splash-screen ".concat(U?"":"fade-out"),children:(0,n.jsx)("img",{src:"/splash-logo.png?v=3",alt:"WB SD",style:{width:"180px",height:"auto"},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])})}),("chain"===u||"void"===q||"midnight"===q||"synthwave"===q)&&(0,n.jsx)(L,{}),(0,n.jsx)(W,{theme:q}),(0,n.jsx)(C,{}),(0,n.jsx)(r,{id:"3bb3409f5fd4766",dynamic:["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"],children:".app-layout.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:100vh;overflow:hidden;position:relative}body{background-color:".concat("chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important","}.sidebar.__jsx-style-dynamic-selector{position:absolute;left:0;top:0;z-index:2000;opacity:").concat(x&&m?1:0,";pointer-events:").concat(x&&m?"auto":"none",";-webkit-transition:opacity.3s ease;-moz-transition:opacity.3s ease;-o-transition:opacity.3s ease;transition:opacity.3s ease}@media(max-width:768px){.sidebar.__jsx-style-dynamic-selector{opacity:").concat(m?1:0,";pointer-events:").concat(m?"auto":"none",";position:fixed;width:100%;height:100%}}.main-content.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%;max-width:100%;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:0;padding:60px 20px;position:relative;height:100vh;height:100dvh;overflow-y:auto;-webkit-overflow-scrolling:touch;scrollbar-width:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}@media(max-width:768px){.main-content.__jsx-style-dynamic-selector{padding:0 12px;padding-top:0;height:100vh;height:100dvh;max-height:100vh;max-height:100dvh;overflow-y:auto;-webkit-overflow-scrolling:touch}}.main-content.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none}.nav-header.__jsx-style-dynamic-selector,.write-mode.__jsx-style-dynamic-selector,.animate-enter.__jsx-style-dynamic-selector{width:100%;max-width:700px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}@media(max-width:768px){.nav-header.__jsx-style-dynamic-selector,.write-mode.__jsx-style-dynamic-selector,.animate-enter.__jsx-style-dynamic-selector{max-width:100%}}.nav-header.__jsx-style-dynamic-selector{padding-bottom:20px;text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:60px;z-index:50;position:relative}@media(max-width:768px){.nav-header.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;position:-webkit-sticky;top:0;top:env(safe-area-inset-top,0);background:").concat("chain"===u||"personal"===u?"#000000":"var(--bg-depth)",';width:100%;gap:8px;padding-top:max(10px,env(safe-area-inset-top,10px));padding-bottom:10px;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow-x:visible;-webkit-overflow-scrolling:touch;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-left:max(8px,env(safe-area-inset-left,8px));padding-right:max(8px,env(safe-area-inset-right,8px));z-index:100;-webkit-transition:background.3s ease;-moz-transition:background.3s ease;-o-transition:background.3s ease;transition:background.3s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.nav-header.__jsx-style-dynamic-selector::-webkit-scrollbar{display:none}.nav-header.__jsx-style-dynamic-selector a,.nav-header.__jsx-style-dynamic-selector button{font-size:12px!important;letter-spacing:1px;font-weight:700}}.nav-item.__jsx-style-dynamic-selector{color:var(--text-secondary);font-size:13px;font-weight:500;letter-spacing:2px;cursor:pointer;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;padding:8px 16px;-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;text-transform:uppercase;position:relative;white-space:nowrap}.nav-item.__jsx-style-dynamic-selector::after{content:"";position:absolute;bottom:-4px;left:50%;-webkit-transform:translatex(-50%)scale(0);-moz-transform:translatex(-50%)scale(0);-ms-transform:translatex(-50%)scale(0);-o-transform:translatex(-50%)scale(0);transform:translatex(-50%)scale(0);width:4px;height:4px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;background-color:var(--text-primary);-webkit-transition:-webkit-transform.2s cubic-bezier(.25,1,.5,1);-moz-transition:-moz-transform.2s cubic-bezier(.25,1,.5,1);-o-transition:-o-transform.2s cubic-bezier(.25,1,.5,1);transition:-webkit-transform.2s cubic-bezier(.25,1,.5,1);transition:-moz-transform.2s cubic-bezier(.25,1,.5,1);transition:-o-transform.2s cubic-bezier(.25,1,.5,1);transition:transform.2s cubic-bezier(.25,1,.5,1);opacity:0}.nav-item.active.__jsx-style-dynamic-selector{color:var(--text-primary);font-weight:600}.nav-item.active.__jsx-style-dynamic-selector::after{-webkit-transform:translatex(-50%)scale(1);-moz-transform:translatex(-50%)scale(1);-ms-transform:translatex(-50%)scale(1);-o-transform:translatex(-50%)scale(1);transform:translatex(-50%)scale(1);opacity:1}.nav-item.__jsx-style-dynamic-selector:hover{color:var(--text-primary)}.write-mode.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.composer-wrapper.__jsx-style-dynamic-selector{width:100%;max-width:600px;margin:0 auto;-webkit-animation:scaleIn.4s var(--ease-ios);-moz-animation:scaleIn.4s var(--ease-ios);-o-animation:scaleIn.4s var(--ease-ios);animation:scaleIn.4s var(--ease-ios)}@-webkit-keyframes scaleIn{from{-webkit-transform:scale(.98);transform:scale(.98);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes scaleIn{from{-moz-transform:scale(.98);transform:scale(.98);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes scaleIn{from{-o-transform:scale(.98);transform:scale(.98);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes scaleIn{from{-webkit-transform:scale(.98);-moz-transform:scale(.98);-o-transform:scale(.98);transform:scale(.98);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}.animate-enter.__jsx-style-dynamic-selector{-webkit-animation:fadeIn.5s ease-out forwards;-moz-animation:fadeIn.5s ease-out forwards;-o-animation:fadeIn.5s ease-out forwards;animation:fadeIn.5s ease-out forwards}@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(10px);-moz-transform:translatey(10px);-o-transform:translatey(10px);transform:translatey(10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.footer-spacer.__jsx-style-dynamic-selector{height:60px}@-webkit-keyframes shake{0%,100%{-webkit-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);transform:translatex(5px)}}@-moz-keyframes shake{0%,100%{-moz-transform:translatex(0);transform:translatex(0)}25%{-moz-transform:translatex(-5px);transform:translatex(-5px)}75%{-moz-transform:translatex(5px);transform:translatex(5px)}}@-o-keyframes shake{0%,100%{-o-transform:translatex(0);transform:translatex(0)}25%{-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-o-transform:translatex(5px);transform:translatex(5px)}}@keyframes shake{0%,100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}25%{-webkit-transform:translatex(-5px);-moz-transform:translatex(-5px);-o-transform:translatex(-5px);transform:translatex(-5px)}75%{-webkit-transform:translatex(5px);-moz-transform:translatex(5px);-o-transform:translatex(5px);transform:translatex(5px)}}.shake-anim.__jsx-style-dynamic-selector{-webkit-animation:shake.3s ease-out;-moz-animation:shake.3s ease-out;-o-animation:shake.3s ease-out;animation:shake.3s ease-out}')}),(0,n.jsxs)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" main-content",children:[(0,n.jsxs)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" nav-header",children:[(0,n.jsx)("span",{onClick:()=>h("write"),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item ".concat("write"===u?"active":""),children:"WBDS"}),(0,n.jsx)("span",{onClick:()=>h("read"),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item ".concat("read"===u?"active":""),children:"READ"}),(0,n.jsx)("span",{onClick:()=>h("best"),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item ".concat("best"===u?"active":""),children:"BWBDS"}),(0,n.jsx)("span",{onClick:()=>h("chain"),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item ".concat("chain"===u?"active":""),children:"FMWBDS"}),(0,n.jsx)("span",{onClick:()=>h("personal"),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item ".concat("personal"===u?"active":""),children:"YWBDS"}),(0,n.jsx)("button",{onClick:ec,title:"Pick from the Void",className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" "+"nav-item void-nav-btn ".concat(Date.now()-Y>=864e5?"ready":""),children:(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:(0,n.jsx)("path",{d:"M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41",className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])})})})]}),"write"===u&&(0,n.jsx)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" write-mode animate-enter",children:(0,n.jsx)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" composer-wrapper",children:(0,n.jsx)(g,{onSend:ei})})}),("read"===u||"best"===u||"saved"===u)&&(0,n.jsx)("div",{style:{zIndex:10},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" animate-enter",children:(0,n.jsx)(w,{letters:e,onOpen:e=>c(e),viewMode:u,myLetterIds:N,onDelete:T,onLike:el,likedLetters:z,onReport:e=>{p(e)},isAdmin:$,adminSecret:ee,triggerModal:en})}),("chain"===u||"personal"===u)&&(0,n.jsx)(V,{letters:"personal"===u?e.filter(e=>N.has(e.id)):e,onNodeClick:c}),"chain"!==u&&(0,n.jsx)(O,{onSettingsClick:()=>f(!m),isSettingsOpen:m,letterCount:D}),(0,n.jsx)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" footer-spacer"})]}),(0,n.jsx)(v,{letter:l,onClose:()=>c(null),isOwner:l&&N.has(l.id),onReply:e=>{c(null),G(e),h("write"),A(!0)}}),E&&(0,n.jsx)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" delete-modal-overlay",children:(0,n.jsxs)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" delete-modal-card shake-anim",children:[(0,n.jsx)("h3",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:"Burn this letter?"}),(0,n.jsx)("p",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:"This action cannot be undone. The fragment will be lost to the void forever."}),(0,n.jsxs)("div",{className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" delete-actions",children:[(0,n.jsx)("button",{onClick:()=>T(null),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" btn-keep",children:"Keep"}),(0,n.jsx)("button",{onClick:er,className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]])+" btn-burn",children:"Burn Forever"})]})]})}),(0,n.jsx)(r,{id:"49039af095e0aa2a",children:".delete-modal-overlay.jsx-49039af095e0aa2a{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:10000;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:20px}.delete-modal-card.jsx-49039af095e0aa2a{background:#111;border:1px solid rgba(255,255,255,.1);-webkit-border-radius:20px;-moz-border-radius:20px;border-radius:20px;padding:32px;max-width:360px;width:100%;text-align:center;-webkit-box-shadow:0 20px 50px rgba(0,0,0,.5);-moz-box-shadow:0 20px 50px rgba(0,0,0,.5);box-shadow:0 20px 50px rgba(0,0,0,.5)}.delete-modal-card.jsx-49039af095e0aa2a h3.jsx-49039af095e0aa2a{font-size:20px;font-weight:700;margin:0 0 12px 0;color:white}.delete-modal-card.jsx-49039af095e0aa2a p.jsx-49039af095e0aa2a{font-size:14px;color:#888;margin:0 0 24px 0;line-height:1.5}.delete-actions.jsx-49039af095e0aa2a{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:12px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.btn-keep.jsx-49039af095e0aa2a{padding:12px 24px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;background:transparent;border:1px solid rgba(255,255,255,.2);color:white;cursor:pointer;font-weight:600;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-keep.jsx-49039af095e0aa2a:hover{background:rgba(255,255,255,.1)}.btn-burn.jsx-49039af095e0aa2a{padding:12px 24px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;background:rgba(255,69,58,.1);border:1px solid rgba(255,69,58,.3);color:#ff453a;cursor:pointer;font-weight:600;-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.btn-burn.jsx-49039af095e0aa2a:hover{background:rgba(255,69,58,.2);-webkit-box-shadow:0 0 15px rgba(255,69,58,.3);-moz-box-shadow:0 0 15px rgba(255,69,58,.3);box-shadow:0 0 15px rgba(255,69,58,.3)}.shake-anim.jsx-49039af095e0aa2a{-webkit-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-moz-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;-o-animation:shake.5s cubic-bezier(.36,.07,.19,.97)both;animation:shake.5s cubic-bezier(.36,.07,.19,.97)both}@-webkit-keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-moz-keyframes shake{10%,90%{-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}@-o-keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(2px,0,0)}30%,50%,70%{transform:translate3d(-4px,0,0)}40%,60%{transform:translate3d(4px,0,0)}}@keyframes shake{10%,90%{-webkit-transform:translate3d(-1px,0,0);-moz-transform:translate3d(-1px,0,0);transform:translate3d(-1px,0,0)}20%,80%{-webkit-transform:translate3d(2px,0,0);-moz-transform:translate3d(2px,0,0);transform:translate3d(2px,0,0)}30%,50%,70%{-webkit-transform:translate3d(-4px,0,0);-moz-transform:translate3d(-4px,0,0);transform:translate3d(-4px,0,0)}40%,60%{-webkit-transform:translate3d(4px,0,0);-moz-transform:translate3d(4px,0,0);transform:translate3d(4px,0,0)}}.void-nav-btn.jsx-49039af095e0aa2a{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-left:8px!important;color:var(--text-secondary)}.void-nav-btn.jsx-49039af095e0aa2a:hover{color:var(--text-primary)}.void-nav-btn.ready.jsx-49039af095e0aa2a{color:var(--accent-gold,#ffd700);-webkit-filter:drop-shadow(0 0 5px var(--accent-gold-glow,rgba(255,215,0,.4)));filter:drop-shadow(0 0 5px var(--accent-gold-glow,rgba(255,215,0,.4)));-webkit-animation:star-pulse 2s infinite ease-in-out;-moz-animation:star-pulse 2s infinite ease-in-out;-o-animation:star-pulse 2s infinite ease-in-out;animation:star-pulse 2s infinite ease-in-out}@-webkit-keyframes star-pulse{0%,100%{opacity:.7;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(1.2);transform:scale(1.2)}}@-moz-keyframes star-pulse{0%,100%{opacity:.7;-moz-transform:scale(1);transform:scale(1)}50%{opacity:1;-moz-transform:scale(1.2);transform:scale(1.2)}}@-o-keyframes star-pulse{0%,100%{opacity:.7;-o-transform:scale(1);transform:scale(1)}50%{opacity:1;-o-transform:scale(1.2);transform:scale(1.2)}}@keyframes star-pulse{0%,100%{opacity:.7;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:1;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2)}}"}),a&&(0,n.jsx)(k,{message:a.message,type:a.type,onClose:()=>s(null)}),(0,n.jsx)(j,{isOpen:!!d,onClose:()=>p(null),onSubmit:e=>es(d,e)}),(0,n.jsx)(I,{isOpen:m,onToggle:()=>f(!m),onClose:()=>f(!1),letters:e,onOpenLetter:e=>c(e),onShowSaved:()=>h("saved"),currentView:u,triggerModal:en}),(0,n.jsx)(B,{}),Z&&(0,n.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},onClick:()=>X(!1),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:(0,n.jsxs)("div",{style:{background:"rgba(30, 30, 30, 0.6)",backdropFilter:"blur(30px)",WebkitBackdropFilter:"blur(30px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:32,padding:"28px 32px",minWidth:320,boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},onClick:e=>e.stopPropagation(),className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:[(0,n.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:18,fontWeight:600,color:"var(--text-primary)",textAlign:"center"},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:"Keyboard Shortcuts"}),(0,n.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:12},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:[["Alt + W","WBDS (Write)"],["Alt + R","Read Letters"],["Alt + A","BWBDS (Best)"],["Alt + F","FMWBDS (Fragments)"],["Alt + Y","YWBDS (Your Letters)"],["Alt + E","Toggle Sidebar"],["Alt + /","Show Shortcuts"]].map(e=>{let[t,a]=e;return(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:24},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:[(0,n.jsx)("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"6px 12px",borderRadius:8,fontFamily:"'JetBrains Mono', monospace",fontSize:13,color:"var(--text-primary)",border:"1px solid rgba(255, 255, 255, 0.1)"},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:t}),(0,n.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:14},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:a})]},t)})}),(0,n.jsx)("button",{onClick:()=>X(!1),style:{marginTop:24,width:"100%",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"var(--text-primary)",padding:12,borderRadius:12,cursor:"pointer",fontSize:14},className:"jsx-49039af095e0aa2a "+r.dynamic([["3bb3409f5fd4766",["chain"===u||"personal"===u?"#000000 !important":"custom"===q?"transparent !important":"var(--bg-depth) !important",x&&m?1:0,x&&m?"auto":"none",m?1:0,m?"auto":"none","chain"===u||"personal"===u?"#000000":"var(--bg-depth)"]]]),children:"Close"})]})}),(0,n.jsx)(F,{...ea})]})}(0,E.default)(()=>a.e(777).then(a.bind(a,7777)),{loadableGenerated:{webpack:()=>[require.resolveWeak("../components/Live/RealtimeGlobe")]},ssr:!1,loading:()=>(0,n.jsx)("div",{style:{color:"rgba(255,255,255,0.2)",textAlign:"center"},children:"Scanning Deep Space..."})})},6445:function(e,t,a){"use strict";a.d(t,{S:function(){return o}});var n=a(9412);let r=null,o=()=>{if(r)return r;let e="https://tsytbdnbevscxhrcccvq.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRzeXRiZG5iZXZzY3hocmNjY3ZxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgyODQ2MTgsImV4cCI6MjA4Mzg2MDYxOH0.LcVorouHvEugFR4t_bsYzpFNRNzovuRGZBAAd59-qpc";if(!e||!t)return console.warn("Supabase: Environment variables missing during lazy init."),null;try{return r=(0,n.eI)(e,t)}catch(e){return console.error("Supabase: Failed to create client",e),null}}},3106:function(e,t,a){"use strict";a.d(t,{A$:function(){return b},GJ:function(){return i},Oi:function(){return y},Qf:function(){return m},Yo:function(){return f},co:function(){return c},yu:function(){return l}});let n=null,r="mechanical",o=()=>{if(n||(n=new(window.AudioContext||window.webkitAudioContext)),"undefined"!=typeof localStorage){let e=localStorage.getItem("wbds_audio_profile");e&&(r=e)}},i=e=>{r=e,"undefined"!=typeof localStorage&&localStorage.setItem("wbds_audio_profile",e)},s=()=>{if(!n)return null;let e=.1*n.sampleRate,t=n.createBuffer(1,e,n.sampleRate),a=t.getChannelData(0);for(let t=0;t<e;t++)a[t]=2*Math.random()-1;return t},l=()=>{if(o(),n&&"suspended"!==n.state||null==n||n.resume(),!n||"silent"===r)return;let e=n.currentTime,t=n.createGain();if(t.connect(n.destination),"mechanical"===r){let a=n.createOscillator();a.type="triangle",a.frequency.setValueAtTime(120+20*Math.random(),e),a.frequency.exponentialRampToValueAtTime(80,e+.05),a.connect(t);let r=n.createBufferSource();r.buffer=s();let o=n.createBiquadFilter();o.type="lowpass",o.frequency.value=1500,r.connect(o),o.connect(t),t.gain.setValueAtTime(0,e),t.gain.linearRampToValueAtTime(.4,e+.005),t.gain.exponentialRampToValueAtTime(.01,e+.08),a.start(e),a.stop(e+.1),r.start(e),r.stop(e+.05)}else if("typewriter"===r){let a=n.createOscillator();a.type="square",a.frequency.setValueAtTime(2200,e),a.frequency.exponentialRampToValueAtTime(800,e+.02),a.connect(t);let r=n.createBufferSource();r.buffer=s();let o=n.createBiquadFilter();o.type="highpass",o.frequency.value=800,r.connect(o),o.connect(t),t.gain.setValueAtTime(0,e),t.gain.linearRampToValueAtTime(.3,e+.002),t.gain.linearRampToValueAtTime(0,e+.06),a.start(e),a.stop(e+.06),r.start(e),r.stop(e+.04)}else if("bubble"===r){let a=n.createOscillator();a.type="sine",a.frequency.setValueAtTime(400+100*Math.random(),e),a.frequency.exponentialRampToValueAtTime(800,e+.05),a.connect(t),t.gain.setValueAtTime(0,e),t.gain.linearRampToValueAtTime(.3,e+.01),t.gain.linearRampToValueAtTime(0,e+.1),a.start(e),a.stop(e+.1)}},c=()=>{if(o(),n&&"suspended"!==n.state||null==n||n.resume(),!n||"silent"===r)return;let e=n.currentTime;n.createGain().connect(n.destination);let t=n.createOscillator();t.type="sine",t.frequency.setValueAtTime(200,e),t.frequency.exponentialRampToValueAtTime(800,e+.6);let a=n.createGain();a.gain.setValueAtTime(0,e),a.gain.linearRampToValueAtTime(.2,e+.1),a.gain.linearRampToValueAtTime(0,e+.6),t.connect(a),a.connect(n.destination);let i=n.createOscillator();i.type="triangle",i.frequency.setValueAtTime(880,e+.6),i.frequency.exponentialRampToValueAtTime(880,e+2);let s=n.createGain();s.gain.setValueAtTime(0,e+.6),s.gain.linearRampToValueAtTime(.3,e+.61),s.gain.exponentialRampToValueAtTime(.001,e+2.5),i.connect(s),s.connect(n.destination),t.start(e),t.stop(e+.7),i.start(e+.6),i.stop(e+2.5)},d=null,p="deep_space",x={deep_space:"/audio/deep_space.mp3",interstellar:"/audio/interstellar.mp3",cosmic_ocean:"/audio/cosmic_ocean.mp3"},b=e=>{let t=d&&!d.paused;p=e,t&&(m(!1),setTimeout(()=>m(!0),100))},m=e=>{if(e){d||((d=new Audio).loop=!0,d.volume=.5);let e=x[p]||x.deep_space;d.src.endsWith(e)||(d.src=e),d.volume=0,d.play().catch(e=>console.log("Ambient audio blocked:",e));let t=0,a=setInterval(()=>{(t+=.05)>=.5?(d.volume=.5,clearInterval(a)):d.volume=t},50)}else if(d&&!d.paused){let e=d.volume,t=setInterval(()=>{(e-=.05)<=0?(d.pause(),d.currentTime=0,clearInterval(t)):d.volume=e},50)}},f=new EventTarget,y={play:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_PLAY")),pause:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_PAUSE")),toggle:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_TOGGLE")),next:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_NEXT")),prev:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_PREV")),setVolume:e=>{if(!f)return;let t=new CustomEvent("RADIO_SET_VOLUME",{detail:e});f.dispatchEvent(t)},setMuted:e=>{if(!f)return;let t=new CustomEvent("RADIO_SET_MUTED",{detail:e});f.dispatchEvent(t)},requestState:()=>null==f?void 0:f.dispatchEvent(new Event("RADIO_REQUEST_STATE")),emitState:e=>{if(!f)return;let t=new CustomEvent("RADIO_STATE_UPDATE",{detail:e});f.dispatchEvent(t)}}}},function(e){e.O(0,[467,812,412,172,193,268,744],function(){return e(e.s=3101)}),_N_E=e.O()}]);